(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{807:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return s}));var n=a(115),r={SOLID:"solidFuel",GAS:"gas",OIL:"oil",OVER:"over"},l="single",i="multi",c="trade",o="service",u="public",m=[l,i,c,o,u],s=function(e){var t;return(t={},Object(n.a)(t,l,"Mieszkalny jednorodzinny"),Object(n.a)(t,i,"Mieszkalny wielorodzinny"),Object(n.a)(t,c,"Handlowy"),Object(n.a)(t,o,"Us\u0142ugowy"),Object(n.a)(t,u,"U\u017cyteczno\u015bci publicznej"),t)[e]}},811:function(e,t,a){"use strict";a.r(t);t.default=Object.assign((function(){return{a:24.111,b:11.001,v:102}}),{update:function(e){}})},818:function(e,t,a){"use strict";a.r(t);var n=["Mazowieckie","Dolno\u015bl\u0105skie"],r=["Jerzy","Edyta","Jadwiga"],l=["Kowalski","Nowak","Dudek"],i=["\u0141\u0119ko\u0142ody","Grzmig\xf3ry","\u0141\u0119czy\u0144ski"],c=["\u0106mi\u0142\xf3w","Niepor\u0119t","Zakr\u0119t","\u0141yse Pole"],o=function(e){var t=e.from,a=void 0===t?0:t,n=e.to;return a+Math.floor((n-a)*Math.random())},u=function(e){return e[o({to:e.length})]};t.default=function(){return{communities:new Array(4).fill(0).map((function(e,t){return function(e){return{id:e,name:c[e%4],voivodeship:u(n),district:u(i),contact:{id:o({to:120}),name:u(r),surname:u(l)},isActive:Math.random()>.5}}(t)}))}}},819:function(e,t,a){"use strict";a.r(t),t.default=function(e){return e.id}},859:function(e,t,a){"use strict";a.r(t);var n=a(807),r=["Londyn","Zdr\xf3j grodzisko","Wawa","Grudzi\u0105d\u017a"],l=["Graniczna","Kwiatowa","Jana Paw\u0142a II"],i=[n.b.GAS,n.b.OIL,n.b.OVER,n.b.SOLID],c=function(e){var t=e.from,a=void 0===t?0:t,n=e.to;return a+Math.floor((n-a)*Math.random())},o=function(e){return e[c({to:e.length})]};t.default=function(e){return{items:new Array(10).fill(0).map((function(t,a){return function(e,t){var a,n,u=e.city,m=e.street,s=e.areaFrom,d=e.areaTo,f=e.heatSource;return{id:t,city:u||o(r),street:m||o(l),building:c({from:1,to:256}).toString(),date:(a=new Date(2012,0,1),n=new Date,new Date(a.getTime()+Math.random()*(n.getTime()-a.getTime()))),area:c({from:s||43,to:d||2300}),heatSource:f||o(i),fuel:"bleh"}}(e,a)})),filters:{cities:r,streets:l},totalCount:c({from:30,to:56}),currentPage:c({from:1,to:4})}}},864:function(e,t,a){"use strict";a.r(t),t.default=function(e){}},867:function(e,t,a){"use strict";a.r(t),t.default=function(e){return e.name.includes("popr")?{status:"failed",errors:new Array(40).fill(0).map((function(){return"Wiersz pierwszy s\u0142aby"}))}:{status:"success"}}},883:function(e,t,a){"use strict";a.r(t);var n=["Jerzy","Edyta","Jadwiga"],r=["Kowalski","Nowak","Dudek"],l=["Londyn","Zdr\xf3j grodzisko","Wawa","Grudzi\u0105d\u017a"],i=["Graniczna","Kwiatowa","Jana Paw\u0142a II","-"],c=[void 0,"1","4","5"],o=function(e){var t=e.from,a=void 0===t?0:t,n=e.to;return a+Math.floor((n-a)*Math.random())},u=function(e){return e[o({to:e.length})]},m=new Date("2012-03-12"),s=new Date;t.default=function(e){return{items:new Array(10).fill(0).map((function(t,a){return function(e,t){var a=t.userId,d=t.from,f=void 0===d?m:d,E=t.to,p=void 0===E?s:E;t.modification;return{id:e,questionnaireId:e+o({from:0,to:4}),address:{city:u(l),street:u(i),building:o({from:1,to:20}).toString(),flat:u(c)},date:new Date(o({from:f.getTime(),to:p.getTime()})),user:void 0!==a?{name:n[a%3],surname:r[a%3],id:a}:{name:u(n),surname:u(r),id:o({from:1,to:100})}}}(a,e)})),filters:{usersList:new Array(3).fill(0).map((function(e,t){return{name:n[t],surname:r[t],id:t}}))},totalCount:o({from:40,to:70}),currentPage:o({from:1,to:3})}}},893:function(e,t,a){"use strict";a.r(t),t.default=function(e){return 10}},894:function(e,t,a){"use strict";a.r(t),t.default=function(e){return e.id}},895:function(e,t,a){"use strict";a.r(t),t.default=function(e){return{id:e.id}}},896:function(e,t,a){"use strict";a.r(t);var n=a(188);t.default=function(e){return{id:e,login:"kierowniczy_1",name:"Zbigniew",surname:"Kierowniczy",position:"Kierownik",phone:"515151898",email:"kierownik@wp.pl",isActive:!0,canEdit:!0,type:n.a.ADMIN}}},897:function(e,t,a){"use strict";a.r(t),t.default=function(e){return 10}},898:function(e,t,a){"use strict";a.r(t);var n=a(387),r=a(188),l=["Jerzy","Edyta","Jadwiga"],i=["Kowalski","Nowak","Dudek"],c=["Asystent","-"],o=function(e){var t=e.from,a=void 0===t?0:t,n=e.to;return a+Math.floor((n-a)*Math.random())},u=function(){return Math.random()>.5},m=function(e){return e[o({to:e.length})]};t.default=function(e){return{users:[{id:0,login:"kierowniczy_1",name:"Zbigniew",surname:"Kierowniczy",position:"Kierownik",phone:"515151898",email:"kierownik@wp.pl",isActive:!0,canEdit:!0,type:r.a.ADMIN}].concat(Object(n.a)(new Array(9).fill(0).map((function(e,t){return function(e){return function(t){var a=t.name,n=t.surname;return{id:e,login:"".concat(a).concat(o({from:1,to:30})),name:a,surname:n,position:m(c),phone:o({from:5e8,to:7e8}).toString(),email:"".concat(a.toLowerCase()).concat(n.toLowerCase(),"@gmail.com"),isActive:u(),canEdit:u(),type:r.a.NORMAL}}({name:m(l),surname:m(i)})}(t+1)}))))}}},903:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),i=(a(794),a(796)),c=(a(797),a(795)),o=a(68),u=(a(239),a(107)),m=a(908),s=a(159),d=a(9),f=a(47),E=a.n(f),p=a(67),b=a(160),k=function(e){return e},y=function(){var e=Object(p.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve({communities:[]})}),(function(){return a(818).default}))(void 0).then(k));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=a(904),j=a(905),v=a(906),g=a(907),O=function(e){var t=e.changeActive,a=e.id,n=e.isActive;return r.a.createElement(s.k,null,r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(w.a,null),to:"/communities/details/".concat(a)},"Szczeg\xf3\u0142y")),r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(j.a,null),to:"/communities/edit/".concat(a)},"Edytuj")),n?r.a.createElement(s.k.Item,null,r.a.createElement(s.k.FakeLink,{icon:r.a.createElement(v.a,null),onClick:t},"Zablokuj")):r.a.createElement(s.k.Item,null,r.a.createElement(s.k.FakeLink,{icon:r.a.createElement(g.a,null),onClick:t},"Przywr\xf3\u0107")))},h=(a(292),a(187)),z=(a(122),a(48)),I=function(){return 1},x=function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve(1)}),(function(){return a(819).default}))(t).then(I));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=u.a.Paragraph,A=u.a.Title,P=u.a.Text,D=function(e){var t=e.isActive,a=e.onChange;return r.a.createElement(h.a,{status:"success",title:t?"Pomy\u015blne zdezaktywowano dost\u0119p dla gminy":"Pomy\u015blnie przywr\xf3cono dost\u0119p dla gminy",extra:[r.a.createElement(z.a,{type:"primary",onClick:a},"Zamknij")]})},F=function(e){var t=e.id,a=e.isActive,l=e.onCancel,i=e.onChange,c=Object(d.d)(),m=Object(o.a)(c,2),f=m[0],b=f.data,k=f.loading,y=(f.error,m[1]),w=Object(n.useCallback)(Object(p.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y((function(){return x({id:t,isActive:!a})}))();case 1:case"end":return e.stop()}}),e)}))),[t,a,y]),j=void 0!==b;return r.a.createElement(s.d,{size:"small",onCancel:j?i:l,visible:!0,title:a?"Wy\u0142\u0105czenie aplikacji dla gminy":"Ponowna aktywacja aplikacji",okButtonProps:a?{danger:!0}:{},footer:j?null:void 0,okText:a?"Dezaktywuj":"Aktywuj",cancelText:"Anuluj",onOk:w},r.a.createElement(s.j,{loading:k},j?r.a.createElement(D,{isActive:a,onChange:i}):a?r.a.createElement(u.a,null,r.a.createElement(A,{type:"danger",level:5},"Dezaktywujesz dost\u0119p do aplikacji dla ca\u0142ej gminy"),r.a.createElement(C,null,r.a.createElement(P,null,"Dezaktywacja gminy spowoduje, \u017ce niemo\u017cliwe b\u0119dzie zalogowanie si\u0119 na konta u\u017cytkownik\xf3w gminy. Konta oraz gmina nie zostan\u0105 usuni\u0119te, by umo\u017cliwi\u0107 przywr\xf3cenie dost\u0119pu w przysz\u0142o\u015bci."))):r.a.createElement(u.a,null,r.a.createElement(A,{level:5},"Przywracasz dost\u0119p do aplikacji dla gminy"),r.a.createElement(C,null,r.a.createElement(P,null,"Przywr\xf3cona zostanie mo\u017cliwo\u015b\u0107 logowania si\u0119 na konto przez u\u017cytkownik\xf3w gminy.")))))},T=u.a.Title,_=Object.assign((function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],l=t[1],u=Object(n.useCallback)((function(){return l(null)}),[]),f=Object(n.useMemo)((function(){return e=function(e){var t=e.id,a=e.isActive;return l({id:t,isActive:a})},t=function(e){},[{title:"Nazwa gminy",width:100,dataIndex:"name",key:"name",fixed:"left"},{title:"Wojew\xf3d\u017atwo",width:80,dataIndex:"voivodeship",key:"voivodeship"},{title:"Powiat",width:80,dataIndex:"district",key:"district"},{title:"Osoba kontaktowa",width:100,dataIndex:"contact",key:"contact",render:function(e){return r.a.createElement(s.e.Button,{type:"link",onClick:function(){return t(e.id)}},"".concat(e.surname," ").concat(e.name))}},{title:"Dost\u0119p",dataIndex:"isActive",key:"isActive",width:20,render:function(e){return e?"Aktywny":"Nieaktywny"}},{title:"",key:"operation",fixed:"right",width:60,render:function(t){return r.a.createElement(O,{id:t.id,isActive:t.isActive,changeActive:function(){return e(t)}})}}];var e,t}),[]),E=Object(d.d)(),p=Object(o.a)(E,2),b=p[0],k=b.data,w=b.loading,j=(b.error,p[1]),v=Object(n.useCallback)((function(){return j((function(){return y()}))()}),[j]);return Object(n.useEffect)((function(){v()}),[v]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,k&&r.a.createElement(s.a.Link,{to:"/communities/add",icon:r.a.createElement(m.a,null),shape:"round"},"Dodaj gmin\u0119"),r.a.createElement(s.a.Title,null,r.a.createElement(T,{level:2},"Lista gmin"))),k?r.a.createElement(c.a,{loading:w,rowKey:"id",pagination:!1,columns:f,dataSource:k.communities,scroll:{x:"max-content"}}):r.a.createElement(s.l,null,r.a.createElement(i.a,null)),null!==a&&r.a.createElement(F,Object.assign({},a,{onCancel:u,onChange:function(){v(),u()}})))})),S=(a(839),a(388)),L=a(207),M=a(96),N=a(242),U=a(914),V=a(913),R=a(190),W=a(841),K=a.n(W),Z=a(858),B=function(e){return e},G=function(){var e=Object(p.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.get("/Excel",{params:t,responseType:"blob"});case 2:a=e.sent,Object(Z.saveAs)(a.data,"Eksport danych.xlsx");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve({})}),(function(){return a(859).default}))(t).then(B));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=Object.assign(q,{loadExcel:G}),Y=a(909),J=a(910),Q=a(89),X=function(e){var t=e.city,a=e.street,n=e.building,r=e.flat;return"".concat(t).concat(a&&a!==Q.b?" ul. ".concat(a):""," ").concat(n).concat(r?"/".concat(r):"")},$=a(115),ee=a(188),te=function(e){var t;return(t={},Object($.a)(t,ee.a.NORMAL,"Podstawowy"),Object($.a)(t,ee.a.ADMIN,"Administrator"),Object($.a)(t,ee.a.SUPERADMIN,"Administrator KAPE"),t)[e]},ae=function(e){var t=e.onDelete,a=e.id,n=e.canEdit,l=e.userType;return r.a.createElement(s.k,null,r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(w.a,null),to:"/buildings/details/".concat(a)},"Szczeg\xf3\u0142y")),n?r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(j.a,null),to:"/buildings/edit/".concat(a)},"Edytuj")):null,Q.d.includes(l)?r.a.createElement(s.k.Item,null,r.a.createElement(s.k.FakeLink,{icon:r.a.createElement(Y.a,null),onClick:t},"Usu\u0144")):null,r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(J.a,null),to:"/buildings/history/".concat(a)},"Historia")))},ne=["city","street","building","operation"],re=[{title:"Miejscowo\u015b\u0107",width:100,dataIndex:"city",key:"city",fixed:"left"},{title:"Ulica",width:100,dataIndex:"street",key:"street",fixed:"left"},{title:"nr",dataIndex:"building",key:"building",width:20},{title:"Data ankiety",dataIndex:"date",key:"date",width:100},{title:"Powierzchnia",dataIndex:"area",key:"area",width:50},{title:"\u0179r\xf3d\u0142o ciep\u0142a",dataIndex:"heatSource",key:"heatSource",width:60},{title:"Paliwo",dataIndex:"fuel",key:"fuel",width:60}];var le=["fuel","heatSource","area"],ie=re.map((function(e){return{label:e.title,value:e.key}})).filter((function(e){var t=e.value;return t&&"string"===typeof t&&!ne.includes(t)})),ce=(a(294),a(161)),oe=(a(413),a(293)),ue=(a(808),a(812)),me=(a(240),a(143)),se=(a(291),a(91)),de=a(214),fe=a(807),Ee=u.a.Title,pe={labelCol:{span:4},wrapperCol:{span:8}},be={labelCol:{span:4},wrapperCol:{span:8,offset:4}},ke={type:"number",min:1800,max:2050,message:"Rok powinien by\u0107 w przedziale od 1800 do 2050"},ye={type:"number",min:1,max:9999,message:"Rok powinien by\u0107 w przedziale od 1800 do 2050"},we=function(){var e=se.a.useForm(),t=Object(o.a)(e,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{requiredMark:!1,size:"middle",name:"login-form",form:t,validateMessages:de.c,onFinish:function(e){console.log(e)}},r.a.createElement(Ee,{level:4},"Dodaj ankiet\u0119"),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Miejscowo\u015b\u0107",name:"city",rules:[de.b]}),r.a.createElement(me.a,null)),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Ulica",name:"street",rules:[de.b]}),r.a.createElement(s.c.InputWithOmit,null)),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Numer budynku",name:"building",rules:[de.b]}),r.a.createElement(me.a,null)),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Numer lokalu",name:"local"}),r.a.createElement(me.a,null)),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Rok budowy",name:"year",rules:[de.b,ke]}),r.a.createElement(ue.a,{type:"number",step:1,precision:0})),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Typ budynku",name:"type",rules:[de.b]}),r.a.createElement(oe.a,null,fe.a.map((function(e){return r.a.createElement(oe.a.Option,{key:e,value:e},Object(fe.c)(e))})))),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Powierzchnia u\u017cytkowa budynku/lokalu [m^2]",name:"area",rules:[de.b,ye]}),r.a.createElement(ue.a,null)),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Ocieplenie \u015bcian",name:"termo_walls_if",valuePropName:"checked"}),r.a.createElement(ce.a,null,"Wykonano")),r.a.createElement(s.c.DependentFields,{depend:["termo_walls_if"],requirement:function(e){return Boolean(e("termo_walls_if"))}},r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Uzyskana powierzchnia [m^2]",name:"termo_walls_area"}),r.a.createElement(ue.a,null)),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Grubo\u015b\u0107 ocieplenia [m^2]",name:"termo_walls_width"}),r.a.createElement(ue.a,null)),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Rok wykonania",name:"termo_walls_year"}),r.a.createElement(ue.a,null))),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Ocieplenie dachu/stropodachu",name:"termo_roof_if",valuePropName:"checked"}),r.a.createElement(ce.a,null,"Wykonano")),r.a.createElement(s.c.DependentFields,{depend:["termo_roof_if"],requirement:function(e){return Boolean(e("termo_roof_if"))}},r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Uzyskana powierzchnia [m^2]",name:"termo_roof_area"}),r.a.createElement(ue.a,null)),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Grubo\u015b\u0107 ocieplenia [m^2]",name:"termo_roof_width"}),r.a.createElement(ue.a,null)),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Rok wykonania",name:"termo_roof_year"}),r.a.createElement(ue.a,null))),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Wymiana okien",name:"termo_window_if",valuePropName:"checked"}),r.a.createElement(ce.a,null,"Wykonano")),r.a.createElement(s.c.DependentFields,{depend:["termo_window_if"],requirement:function(e){return Boolean(e("termo_window_if"))}},r.a.createElement(se.a.Item,Object.assign({},pe,{label:"[m^2, szt.]",name:"termo_window_count"}),r.a.createElement(me.a,null)),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Rok wykonania",name:"termo_window_year"}),r.a.createElement(ue.a,null))),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Wymiana drzwi",name:"termo_door_if",valuePropName:"checked"}),r.a.createElement(ce.a,null,"Wykonano")),r.a.createElement(s.c.DependentFields,{depend:["termo_door_if"],requirement:function(e){return Boolean(e("termo_door_if"))}},r.a.createElement(se.a.Item,Object.assign({},pe,{label:"[m^2, szt.]",name:"termo_door_count"}),r.a.createElement(me.a,null)),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Rok wykonania",name:"termo_door_year"}),r.a.createElement(ue.a,null))),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Wymiana \u017ar\xf3de\u0142 ciep\u0142a",name:"termo_source_change"}),r.a.createElement(me.a,{placeholder:"(z jakiego na jakie?)"})),r.a.createElement(s.c.DependentFields,{depend:["termo_source_change"],requirement:function(e){return Boolean(e("termo_source_change"))}},r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Rok wykonania",name:"termo_source_year"}),r.a.createElement(ue.a,null))),r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Wymiana \u017ar\xf3de\u0142 ciep\u0142a",name:"termo_source_change"}),r.a.createElement(me.a,{placeholder:"(z jakiego na jakie?)"})),r.a.createElement(s.c.DependentFields,{depend:["termo_source_change"],requirement:function(e){return Boolean(e("termo_source_change"))}},r.a.createElement(se.a.Item,Object.assign({},pe,{label:"Rok wykonania",name:"termo_source_year"}),r.a.createElement(ue.a,null))),r.a.createElement(se.a.Item,be,r.a.createElement(z.a,{type:"primary",htmlType:"submit"},"Dodaj"))))},je=function(){return 1},ve=function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve(void 0)}),(function(){return a(864).default}))(t).then(je));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=u.a.Paragraph,Oe=u.a.Title,he=u.a.Text,ze=function(e){var t=e.onDelete;return r.a.createElement(h.a,{status:"success",title:"Pomy\u015blne usuni\u0119to rekord",extra:[r.a.createElement(z.a,{type:"primary",onClick:t},"Zamknij")]})},Ie=function(e){var t=e.address,a=e.id,l=e.onCancel,i=e.onDelete,c=Object(d.d)(),m=Object(o.a)(c,2),f=m[0],b=f.data,k=f.loading,y=(f.error,m[1]),w=Object(n.useCallback)(Object(p.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y((function(){return ve(a)}))();case 1:case"end":return e.stop()}}),e)}))),[a,y]),j=void 0!==b;return r.a.createElement(s.d,{size:"small",onCancel:j?i:l,visible:!0,title:"Usuni\u0119cie ankiety z bazy",okButtonProps:{danger:!0},footer:j?null:void 0,okText:"Usu\u0144",cancelText:"Anuluj",onOk:w},r.a.createElement(s.j,{loading:k},j?r.a.createElement(ze,{onDelete:i}):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,r.a.createElement(Oe,{type:"danger",level:5},"Usuwasz ankiet\u0119"),r.a.createElement(ge,null,r.a.createElement(he,null,"Usuni\u0119cie ankiety spowoduje, \u017ce dane o historii jej edycji oraz same dane ankiety przestan\u0105 by\u0107 dost\u0119pne w aplikacji. Zmiana jest nieodwracalna."))),r.a.createElement(se.a,{layout:"vertical"},r.a.createElement(s.c.ValueItem,{label:"Adres"},r.a.createElement(s.c.Value,{value:t}))))))},xe=function(){return r.a.createElement(r.a.Fragment,null,"No to mamy to")},Ce=function(){return r.a.createElement(r.a.Fragment,null,"No to mamy to")},Ae=function(){return r.a.createElement(r.a.Fragment,null,"No to mamy to")},Pe=a(911),De=function(e){var t=e.visibleColumns,a=e.setVisibleColumns,i=e.parameters,c=e.cities,u=e.streets,m=se.a.useForm(),d=Object(o.a)(m,1)[0],f=Object(l.g)();return Object(n.useEffect)((function(){var e=Object(N.parse)(i);d.setFieldsValue(e)}),[d,i]),r.a.createElement(se.a,{form:d,name:"filters",layout:"inline",onFinish:function(e){f.push("/?".concat(Object(N.stringify)(e)))}},r.a.createElement(se.a.Item,{name:"city"},r.a.createElement(s.g.Select,{allowClear:!0,placeholder:"Miasto"},c.map((function(e){return r.a.createElement(oe.a.Option,{value:e,key:e},e)})))),r.a.createElement(se.a.Item,{name:"street"},r.a.createElement(s.g.Select,{allowClear:!0,placeholder:"Ulica"},u.map((function(e){return r.a.createElement(oe.a.Option,{value:e,key:e},e)})))),r.a.createElement(se.a.Item,null,r.a.createElement(s.g.MultiSelect,{value:t,onChange:a,options:ie},(function(e,t){return r.a.createElement(z.a,{onClick:t},"Wybrane ".concat(e.length," kolumny"))}))),r.a.createElement(se.a.Item,null,r.a.createElement(z.a,{type:"primary",htmlType:"submit",icon:r.a.createElement(Pe.a,null)},"Wyszukaj")))},Fe=(a(901),a(900)),Te=a(912),_e=function(e){return e},Se=function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve({})}),(function(){return a(867).default}))(t).then(_e));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=Fe.a.Dragger,Me="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",Ne=function(e){var t=e.onFileUpload;return r.a.createElement(h.a,{status:"success",title:"Pomy\u015blne wgranie danych",subTitle:"Wgrano pomy\u015blnie dane... Mo\u017ce chcesz statystyki?",extra:[r.a.createElement(z.a,{type:"primary",onClick:t},"Zamknij")]})},Ue=function(e){var t=e.errors;return r.a.createElement(s.f,null,r.a.createElement(s.f.Title,null,"Plik niemo\u017cliwy do wgrania - lista b\u0142\u0119d\xf3w"),t.map((function(e,t){return r.a.createElement(s.f.Item,{key:t},e)})))},Ve=function(e){var t=e.onCancel,a=e.onFileUpload,l=Object(n.useState)([]),i=Object(o.a)(l,2),c=i[0],u=i[1],m=Object(d.d)(),f=Object(o.a)(m,3),E=f[0],p=E.data,b=E.loading,k=(E.error,f[1]),y=f[2],w=Object(n.useCallback)((function(e){return k((function(){return Se(e)}))()}),[k]),j="success"===(null===p||void 0===p?void 0:p.status);return r.a.createElement(s.d,{visible:!0,title:"Import pliku Excel",onCancel:j?a:t,footer:null},r.a.createElement(s.j,{loading:b},j?r.a.createElement(Ne,{onFileUpload:a}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,{accept:Me,beforeUpload:function(e){return e.type===Me&&(u([e]),y({type:"custom",update:function(e){return e.data?Object(L.a)({},e,{data:Object(L.a)({},e.data,{errors:void 0})}):e}})),!1},onRemove:function(){return u([])},multiple:!1,fileList:c},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(Te.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Kliknij lub przeci\u0105gnij plik .xlsx aby za\u0142adowa\u0107 dane z ankietami. Wymagany jest poprawny format pliku."),r.a.createElement("p",{className:"ant-upload-hint"},"Umo\u017cliwione jest wgrywanie pojedy\u0144czego pliku.")),r.a.createElement(s.h,null,r.a.createElement(z.a,{disabled:0===c.length,icon:r.a.createElement(V.a,null),onClick:0===c.length?void 0:function(){return w(c[0])},type:"primary"},"Wgraj plik")),(null===p||void 0===p?void 0:p.errors)&&r.a.createElement(Ue,{errors:p.errors}))))},Re=u.a.Title,We=Object(M.b)((function(e){return Object(L.a)({},Object(R.b)(e),{},Object(R.a)(e))})),Ke=Object.assign(We((function(e){var t=e.canEdit,a=e.userType,l=Object(n.useState)(null),u=Object(o.a)(l,2),f=u[0],E=u[1],p=Object(n.useCallback)((function(){return E(null)}),[]),b=Object(n.useState)(!1),k=Object(o.a)(b,2),y=k[0],w=k[1],j=Object(n.useCallback)((function(){return w(!0)}),[]),v=Object(n.useCallback)((function(){return w(!1)}),[]),g=Object(n.useState)(le),O=Object(o.a)(g,2),h=O[0],z=O[1],I=Object(n.useMemo)((function(){return function(e,t,a){return[].concat(re,[{title:"",key:"operation",fixed:"right",width:60,render:function(n){var l=n.id,i=n.city,c=n.street,o=n.building;return r.a.createElement(ae,{id:l,onDelete:function(){return t({id:l,address:X({city:i,street:c,building:o})})},canEdit:e,userType:a})}}])}(t,E,a).filter((function(e){return ne.includes(e.key)||h.includes(e.key)}))}),[t,a,h]),x=Object(d.c)(),C=Object(d.d)(),A=Object(o.a)(C,2),P=A[0],D=P.data,F=P.loading,T=(P.error,A[1]),_=Object(n.useCallback)((function(e){return T((function(){return H(e)}))()}),[T]);Object(n.useEffect)((function(){var e=Object(N.parse)(x);_(e)}),[x,_]);var L=Object(d.d)(),M=Object(o.a)(L,2)[1],R=Object(n.useCallback)((function(e){return M((function(){return H.loadExcel(e)}))(void 0,(function(){return S.b.error("Wyst\u0105pi\u0142 b\u0142\u0105d w czasie generacji pliku Excel")}))}),[M]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,D&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a.Link,{to:"/buildings/add",icon:r.a.createElement(m.a,null),shape:"round"},"Dodaj"),r.a.createElement(s.a.FakeLink,{type:"default",icon:r.a.createElement(U.a,null),shape:"round",onClick:function(){return R(Object(N.parse)(x))}},"Exportuj"),r.a.createElement(s.a.FakeLink,{type:"default",icon:r.a.createElement(V.a,null),shape:"round",onClick:j},"Importuj")),r.a.createElement(s.a.Title,null,r.a.createElement(Re,{level:2},"Lista ankiet"))),D?r.a.createElement(c.a,{title:function(){return r.a.createElement(De,{parameters:x,cities:D.filters.cities,streets:D.filters.streets,setVisibleColumns:z,visibleColumns:h})},loading:F,rowKey:"id",pagination:{total:D.totalCount,current:D.currentPage,pageSizeOptions:["10","20"]},columns:I,dataSource:D.items,scroll:{x:"max-content"}}):r.a.createElement(s.l,null,r.a.createElement(i.a,{active:!0})),null!==f&&r.a.createElement(Ie,Object.assign({},f,{onCancel:p,onDelete:function(){var e=Object(N.parse)(x);_(e),p()}})),y&&r.a.createElement(Ve,{onCancel:v,onFileUpload:function(){var e=Object(N.parse)(x);_(e),v()}}))})),{Add:we,Details:xe,Edit:Ce,History:Ae}),Ze=function(e){return e},Be=function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve({})}),(function(){return a(883).default}))(t).then(Ze));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=a(798),qe=a.n(Ge),He=function(e){var t=e.questionnaireId;return r.a.createElement(s.k,null,r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(w.a,null),to:"/building/details/".concat(t)},"Pe\u0142na ankieta")),r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(J.a,null),to:"/building/history/".concat(t)},"Pe\u0142na historia zmian")))},Ye=(a(902),a(899));var Je=Object.assign((function(e){var t,a=e.userId,n=e.from,r=e.to,l=e.modification;return t={userId:void 0!==a?a.toString():void 0,from:n?n.format("YYYY-MM-DD"):void 0,to:r?r.format("YYYY-MM-DD"):void 0,modification:l},Object.keys(t).reduce((function(e,a){return void 0!==t[a]?Object.assign(e,Object($.a)({},a,t[a])):e}),{})}),{parse:function(e){var t=e.userId,a=e.from,n=e.to,r=e.modification;return{userId:t?parseInt(t,10):void 0,from:a?qe()(a):void 0,to:n?qe()(n):void 0,modification:r}}}),Qe=function(e){var t=e.parameters,a=e.usersList,i=se.a.useForm(),c=Object(o.a)(i,1)[0],u=Object(l.g)();return Object(n.useEffect)((function(){var e=Object(N.parse)(t);c.setFieldsValue(Je.parse(e))}),[c,t]),r.a.createElement(se.a,{form:c,name:"filters",layout:"inline",onFinish:function(e){u.push("/history?".concat(Object(N.stringify)(Je(e))))}},r.a.createElement(se.a.Item,{name:"userId"},r.a.createElement(s.g.Select,{allowClear:!0,placeholder:"U\u017cytkownik"},a.map((function(e){var t=e.id,a=e.name,n=e.surname;return r.a.createElement(oe.a.Option,{value:t,key:t},"".concat(n," ").concat(a))})))),r.a.createElement(se.a.Item,{name:"from"},r.a.createElement(Ye.a,{placeholder:"Od",allowClear:!0})),r.a.createElement(se.a.Item,{name:"to"},r.a.createElement(Ye.a,{placeholder:"Do",allowClear:!0})),r.a.createElement(se.a.Item,{name:"modification"},r.a.createElement(s.g.Select,{allowClear:!0,placeholder:"Rodzaj zmiany"},r.a.createElement(oe.a.Option,{value:"edit",key:"edit"},"Edycja"),r.a.createElement(oe.a.Option,{value:"add",key:"add"},"Dodanie"))),r.a.createElement(se.a.Item,null,r.a.createElement(z.a,{type:"primary",htmlType:"submit",icon:r.a.createElement(Pe.a,null)},"Wyszukaj")))},Xe=u.a.Title,$e=function(e){},et=function(){var e=Object(n.useMemo)((function(){return e=$e,[{title:"Adres",width:150,dataIndex:"address",key:"address",fixed:"left",render:function(e){return X(e)}},{title:"Data modyfikacji",width:50,dataIndex:"date",key:"date",render:function(e){return qe()(e).format("YYYY-MM-DD")}},{title:"U\u017cytkownik",width:150,dataIndex:"user",key:"user",render:function(t){return r.a.createElement(s.e.Button,{type:"link",onClick:function(){return e(t.id)}},"".concat(t.surname," ").concat(t.name))}},{title:"",key:"operation",fixed:"right",width:60,render:function(e){return r.a.createElement(He,{questionnaireId:e.questionnaireId})}}];var e}),[]),t=Object(d.c)(),a=Object(d.d)(),l=Object(o.a)(a,2),u=l[0],m=u.data,f=u.loading,E=(u.error,l[1]),p=Object(n.useCallback)((function(e){return E((function(){return Be(Je(e))}))()}),[E]);return Object(n.useEffect)((function(){var e=Object(N.parse)(t);p(e)}),[t,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(s.a.Title,null,r.a.createElement(Xe,{level:2},"Historia ankiet"))),m?r.a.createElement(c.a,{title:function(){return r.a.createElement(Qe,{parameters:t,usersList:m.filters.usersList})},loading:f,rowKey:"id",pagination:{total:m.totalCount,current:m.currentPage,pageSizeOptions:["10"]},columns:e,dataSource:m.items,scroll:{x:"max-content"}}):r.a.createElement(s.l,null,r.a.createElement(i.a,{active:!0})))},tt=(a(419),a(296)),at=a(915),nt=function(e){var t=e.close,a=Object(n.useState)(1),l=Object(o.a)(a,2),i=l[0],c=l[1];return r.a.createElement(s.d,{size:"small",visible:!0,onCancel:t,onOk:function(){return t()},okText:"Wybierz gmin\u0119",title:"Wybierz gmin\u0119"},r.a.createElement(u.a,null,r.a.createElement(u.a.Paragraph,null,r.a.createElement(u.a.Text,null,"Wybrana gmina b\u0119dzie obowi\u0105zywa\u0142a przy wy\u015bwietlaniu oraz modyfikowaniu ankiet. Aby modyfikowa\u0107, dodawa\u0107 oraz wy\u015bwietla\u0107 ankiety w ramach innej gminy konieczne jest prze\u0142\u0105czenie si\u0119 pomi\u0119dzy gminami."))),r.a.createElement(se.a,{layout:"vertical"},r.a.createElement(se.a.Item,{label:"Gmina"},r.a.createElement(oe.a,{value:i,onChange:function(e){return c(e)}},r.a.createElement(oe.a.Option,{value:1},"Gmina 1"),r.a.createElement(oe.a.Option,{value:2},"Gmina 2")))))},rt=function(e){var t=e.userType,a=Object(l.h)();return r.a.createElement(tt.a,{theme:"dark",defaultSelectedKeys:[Q.a.DASHBOARD],selectedKeys:[a.pathname],mode:"horizontal"},r.a.createElement(s.i.CustomLink,{key:Q.a.DASHBOARD,to:Q.a.DASHBOARD},"Ankiety"),r.a.createElement(s.i.CustomLink,{key:Q.a.HISTORY,to:Q.a.HISTORY},"Historia"),Q.d.includes(t)&&r.a.createElement(s.i.CustomLink,{key:Q.a.USERS,to:Q.a.USERS},"U\u017cytkownicy"),Q.e.includes(t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.i.CustomLink,{key:Q.a.COMMUNITIES,to:Q.a.COMMUNITIES},"Gminy"),r.a.createElement(s.i.CustomLink,{key:Q.a.PARAMETERS,to:Q.a.PARAMETERS},"Parametry")),r.a.createElement(s.i.CustomLink,{key:Q.a.LOGOUT,to:Q.a.LOGOUT},r.a.createElement(at.a,null)," Wyloguj"))},lt=Object(M.b)(R.b)((function(e){var t=e.userType,a=e.children,l=Object(n.useState)(!1),i=Object(o.a)(l,2),c=i[0],u=i[1];return r.a.createElement(s.i,null,r.a.createElement(s.i.MenuWrapper,null,t&&Q.e.includes(t)?r.a.createElement(s.b.CommunitySwitch,{onClick:function(){return u(!0)}},"Gmina Szyszk\xf3w"):r.a.createElement(s.b,null,"Gmina Szyszk\xf3w"),r.a.createElement(rt,{userType:t||"normal"})),r.a.createElement(s.i.ViewWrapper,null,a),c&&r.a.createElement(nt,{close:function(){return u(!1)}}))})),it=function(e){var t=e.changeActive,a=e.changePassword,n=e.id,l=e.isActive,i=e.userType;return r.a.createElement(s.k,null,r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(w.a,null),to:"/users/details/".concat(n)},"Szczeg\xf3\u0142y")),r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(j.a,null),to:"/users/edit/".concat(n)},"Edytuj")),Q.d.includes(i)?null:l?r.a.createElement(s.k.Item,null,r.a.createElement(s.k.FakeLink,{icon:r.a.createElement(v.a,null),onClick:t},"Zablokuj")):r.a.createElement(s.k.Item,null,r.a.createElement(s.k.FakeLink,{icon:r.a.createElement(g.a,null),onClick:t},"Przywr\xf3\u0107")),r.a.createElement(s.k.Item,null,r.a.createElement(s.k.FakeLink,{icon:r.a.createElement(J.a,null),onClick:a},"Zmie\u0144 has\u0142o")))},ct=[{title:"Nazwisko",width:100,dataIndex:"surname",key:"surname",fixed:"left"},{title:"Imi\u0119",width:100,dataIndex:"name",key:"name",fixed:"left"},{title:"Typ u\u017cytkownika",width:40,dataIndex:"type",key:"type",render:function(e){return te(e)}},{title:"Dost\u0119p",width:30,dataIndex:"isActive",key:"isActive",render:function(e){return e?"Aktywny":"Nieaktywny"}},{title:"E-mail",dataIndex:"email",key:"email",width:100},{title:"Telefon",dataIndex:"phone",key:"phone",width:30},{title:"Stanowisko",dataIndex:"position",key:"position",width:100},{title:"Edycja",dataIndex:"canEdit",key:"canEdit",width:20,render:function(e){return e?"Tak":"Nie"}}],ot=a(77),ut=a(38),mt="login",st="name",dt="surname",ft="position",Et="phone",pt="email",bt="isActive",kt="type",yt="canEdit",wt=function(e){var t;return(t={},Object($.a)(t,mt,"Login"),Object($.a)(t,st,"Imi\u0119"),Object($.a)(t,dt,"Nazwisko"),Object($.a)(t,ft,"Stanowisko"),Object($.a)(t,Et,"Telefon"),Object($.a)(t,pt,"E-mail"),Object($.a)(t,bt,"Aktywno\u015b\u0107 konta"),Object($.a)(t,kt,"Typ u\u017cytkownika"),Object($.a)(t,yt,"Mo\u017cliwo\u015b\u0107 edycji ankiet"),t)[e]},jt=function(e){var t=e.mode,a=e.name,n=e.rules;return"details"===t?r.a.createElement(s.c.ValueItem,{name:a,label:wt(a)},r.a.createElement(s.c.Value,null)):r.a.createElement(se.a.Item,{name:a,label:wt(a),rules:n},r.a.createElement(me.a,null))},vt=function(e){var t=e.mode,a=e.name,n=e.rules;return"details"===t?r.a.createElement(s.c.ValueItem,{name:a,valuePropName:"checked"},r.a.createElement(ce.a,{disabled:!0},wt(a))):r.a.createElement(se.a.Item,{name:a,rules:n,valuePropName:"checked"},r.a.createElement(ce.a,null,wt(a)))},gt=function(e){var t=e.children,a=e.form,n=e.mode,l=e.initialValues,i=Object(ut.a)(e,["children","form","mode","initialValues"]);return r.a.createElement(s.c,Object.assign({requiredMark:!1,form:a,initialValues:l,validateMessages:de.c,layout:"vertical"},i),"add"===n?r.a.createElement(se.a.Item,{name:mt,label:wt(mt),rules:[de.b]},r.a.createElement(me.a,null)):r.a.createElement(s.c.ValueItem,{name:mt,label:wt(mt)},r.a.createElement(s.c.Value,null)),r.a.createElement(jt,{mode:n,name:st,rules:[de.b]}),r.a.createElement(jt,{mode:n,name:dt,rules:[de.b]}),r.a.createElement(s.c.ValueItem,{label:wt(kt),shouldUpdate:function(e,t){return e.type!==t.type}},"details"===n?function(e){var t=e.getFieldValue;return r.a.createElement(s.c.Value,{value:te(t(kt))})}:r.a.createElement(s.c.Value,{value:te(ee.a.NORMAL)})),"details"===n&&r.a.createElement(s.c.ValueItem,{label:wt(bt),shouldUpdate:function(e,t){return e.isActive!==t.isActive}},(function(e){var t=e.getFieldValue;return r.a.createElement(s.c.Value,{value:t(bt)?"Aktywne":"Nieaktywne"})})),r.a.createElement(vt,{mode:n,name:yt}),r.a.createElement(jt,{mode:n,name:ft,rules:[de.b]}),r.a.createElement(jt,{mode:n,name:Et,rules:[de.b]}),r.a.createElement(jt,{mode:n,name:pt,rules:[de.b,de.a]}),t)},Ot=function(e){return e},ht=function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve(10)}),(function(){return a(893).default}))(t).then(Ot));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zt=u.a.Title,It=function(e){var t=e.addNew;return r.a.createElement(h.a,{status:"success",title:"Dodano nowego u\u017cytkownika",extra:[r.a.createElement(ot.b,{to:"/users"},r.a.createElement(z.a,{type:"primary"},"Lista u\u017cytkownik\xf3w")),r.a.createElement(z.a,{type:"default",onClick:t},"Dodaj kolejnego")]})},xt=function(){var e=Object(l.g)(),t=se.a.useForm(),a=Object(o.a)(t,1)[0],i=Object(d.d)(),c=Object(o.a)(i,3),u=c[0],m=u.data,f=u.loading,b=u.error,k=c[1],y=c[2],w=Object(n.useCallback)(function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k((function(){return ht(t)}))());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k]),j=Object(n.useCallback)((function(e){return w(e)}),[w]),v=Object(n.useCallback)((function(){a.resetFields(),y({type:"reset"})}),[y,a]),g=void 0!==m&&!b;return r.a.createElement(s.l,null,g?r.a.createElement(It,{addNew:v}):r.a.createElement(s.j,{loading:f},r.a.createElement(r.a.Fragment,null,r.a.createElement(s.l.Header,null,r.a.createElement(zt,{level:3},"Dodanie nowego u\u017cytkownika")),r.a.createElement(gt,{mode:"add",form:a,onFinish:j}),r.a.createElement(s.l.Footer,null,r.a.createElement(z.a,{type:"primary",size:"large",onClick:function(){return a.submit()}},"Dodaj u\u017cytkownika"),r.a.createElement(z.a,{type:"link",size:"large",onClick:function(){return e.goBack()}},"< Powr\xf3t")))))},Ct=function(){return 1},At=function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve(1)}),(function(){return a(894).default}))(t).then(Ct));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=u.a.Paragraph,Dt=u.a.Title,Ft=u.a.Text,Tt=function(e){var t=e.isActive,a=e.onChange;return r.a.createElement(h.a,{status:"success",title:t?"Pomy\u015blne zdezaktywowano konto":"Pomy\u015blnie zaktywowano konto",extra:[r.a.createElement(z.a,{type:"primary",onClick:a},"Zamknij")]})},_t=function(e){var t=e.id,a=e.isActive,l=e.onCancel,i=e.onChange,c=Object(d.d)(),m=Object(o.a)(c,2),f=m[0],b=f.data,k=f.loading,y=(f.error,m[1]),w=Object(n.useCallback)(Object(p.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y((function(){return At({id:t,isActive:!a})}))();case 1:case"end":return e.stop()}}),e)}))),[t,a,y]),j=void 0!==b;return r.a.createElement(s.d,{size:"small",onCancel:j?i:l,visible:!0,title:a?"Dezaktywacja konta":"Ponowna aktywacja konta",okButtonProps:a?{danger:!0}:{},footer:j?null:void 0,okText:a?"Dezaktywuj":"Aktywuj",cancelText:"Anuluj",onOk:w},r.a.createElement(s.j,{loading:k},j?r.a.createElement(Tt,{isActive:a,onChange:i}):a?r.a.createElement(u.a,null,r.a.createElement(Dt,{type:"danger",level:5},"Dezaktywujesz konto"),r.a.createElement(Pt,null,r.a.createElement(Ft,null,"Dezaktywacja konta spowoduje, \u017ce niemo\u017cliwe b\u0119dzie zalogowanie si\u0119 na te konto. Konto nie zostanie usuni\u0119te, by umo\u017cliwi\u0107 \u015bledzenie historii zmian."))):r.a.createElement(u.a,null,r.a.createElement(Dt,{level:5},"Przywracasz konto"),r.a.createElement(Pt,null,r.a.createElement(Ft,null,"Przywr\xf3cona zostanie mo\u017cliwo\u015b\u0107 logowania si\u0119 na konto przez u\u017cytkownika.")))))},St="oldPassword",Lt="newPassword",Mt="repeatedPassword",Nt=function(e){return e},Ut=function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve({id:1})}),(function(){return a(895).default}))(t).then(Nt));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vt=Object(M.b)(R.b),Rt=function(e){var t=e.onCancel;return r.a.createElement(h.a,{status:"success",title:"Zmieniono has\u0142o",extra:[r.a.createElement(z.a,{type:"primary",onClick:t},"Zamknij")]})},Wt=Vt((function(e){var t=e.id,a=e.userName,l=e.userType,i=e.targetUser,c=e.onCancel,u=se.a.useForm(),m=Object(o.a)(u,1)[0],f=Object(n.useMemo)((function(){return function(e,t){if(!Q.d.includes(e)||e===ee.a.ADMIN&&t===ee.a.SUPERADMIN)throw new Error("Nieuprawniony dost\u0119p");return e===t}(l,i)}),[i,l]),b=Object(d.d)(),k=Object(o.a)(b,3),y=k[0],w=y.data,j=y.loading,v=(y.error,k[1]),g=k[2],O=Object(n.useCallback)(function(){var e=Object(p.a)(E.a.mark((function e(a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.oldPassword,r=a.newPassword,v((function(){return Ut(f?{id:t,oldPassword:n,newPassword:r}:{id:t,newPassword:r})}))((function(e){var t=e.errors;t?(m.setFields([{name:St,errors:["Nieprawid\u0142owe has\u0142o"]}]),g({type:"failure",error:t})):g({type:"success",data:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[g,m,t,f,v]),h=void 0!==w&&!w.errors;return r.a.createElement(s.d,{size:"small",onCancel:c,visible:!0,title:"Zmiana has\u0142a",footer:h?null:void 0,okText:"Zmie\u0144 has\u0142o",cancelText:"Anuluj",onOk:m.submit},r.a.createElement(s.j,{loading:j},h?r.a.createElement(Rt,{onCancel:c}):r.a.createElement(se.a,{validateMessages:de.c,layout:"vertical",form:m,name:"changePassword",onFinish:function(e){return O(e)},requiredMark:!1},r.a.createElement(s.c.ValueItem,{label:"U\u017cytkownik"},r.a.createElement(s.c.Value,{value:a})),f&&r.a.createElement(se.a.Item,{name:St,label:"Stare has\u0142o",hasFeedback:!0,rules:[de.b]},r.a.createElement(me.a,{type:"password"})),r.a.createElement(se.a.Item,{name:Lt,label:"Nowe has\u0142o",hasFeedback:!0,rules:[de.b]},r.a.createElement(me.a,{type:"password"})),r.a.createElement(se.a.Item,{name:Mt,label:"Potwierd\u017a nowe has\u0142o",hasFeedback:!0,dependencies:[Lt],rules:[de.b,function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t(Lt)!==a?Promise.reject("Podano inne has\u0142o ni\u017c nowe has\u0142o"):Promise.resolve()}}}]},r.a.createElement(me.a,{type:"password"})))))})),Kt=function(e){return e},Zt=function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve({})}),(function(){return a(896).default}))(t).then(Kt));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=u.a.Title,Gt=function(){var e=Object(d.b)(),t=Object(l.g)(),a=se.a.useForm(),i=Object(o.a)(a,1)[0],c=Object(d.d)(),u=Object(o.a)(c,2),m=u[0],f=m.data,E=m.loading,p=(m.error,u[1]);return Object(n.useEffect)((function(){p((function(){return Zt(e)}))()}),[e,p]),r.a.createElement(s.l,null,r.a.createElement(s.j,{loading:E},r.a.createElement(s.l.Header,null,r.a.createElement(Bt,{level:3},"Dane u\u017cytkownika")),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{mode:"details",form:i,initialValues:f}),r.a.createElement(s.l.Footer,null,r.a.createElement(ot.b,{to:"/users/edit/".concat(e)},r.a.createElement(z.a,{type:"primary",size:"large"},"Edytuj")),r.a.createElement(z.a,{type:"link",size:"large",onClick:function(){return t.goBack()}},"< Powr\xf3t")))))},qt=function(e){return e},Ht=function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve(10)}),(function(){return a(897).default}))(t).then(qt));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=u.a.Title,Jt=function(e){var t=e.id;return r.a.createElement(h.a,{status:"success",title:"Zapisano zmiany",extra:[r.a.createElement(ot.b,{to:"/users"},r.a.createElement(z.a,{type:"primary"},"Lista u\u017cytkownik\xf3w")),r.a.createElement(ot.b,{to:"/users/details/".concat(t)},r.a.createElement(z.a,{type:"default"},"Szczeg\xf3\u0142y u\u017cytkownika"))]})},Qt=function(){var e=Object(l.g)(),t=Object(d.b)(),a=se.a.useForm(),i=Object(o.a)(a,1)[0],c=Object(d.d)(),u=Object(o.a)(c,2),m=u[0],f=m.data,b=m.loading,k=m.error,y=u[1];Object(n.useEffect)((function(){y((function(){return Zt(t)}))()}),[t,y]);var w=Object(d.d)(),j=Object(o.a)(w,2),v=j[0],g=v.data,O=v.loading,h=v.error,I=j[1],x=Object(n.useCallback)(function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I((function(){return Ht(t)}))());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[I]),C=Object(n.useCallback)((function(e){return x(e)}),[x]),A=void 0!==f&&!k,P=A&&void 0!==g&&!h;return r.a.createElement(s.l,null,P?r.a.createElement(Jt,{id:t}):r.a.createElement(s.j,{loading:O||b},r.a.createElement(r.a.Fragment,null,r.a.createElement(s.l.Header,null,r.a.createElement(Yt,{level:3},"Edycja danych u\u017cytkownika")),A&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{mode:"edit",form:i,onFinish:C,initialValues:f}),r.a.createElement(s.l.Footer,null,r.a.createElement(z.a,{type:"primary",size:"large",onClick:function(){return i.submit()}},"Zapisz zmiany"),r.a.createElement(z.a,{type:"link",size:"large",onClick:function(){return e.goBack()}},"< Powr\xf3t"))))))},Xt=function(e){return e},$t=function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve({users:[]})}),(function(){return a(898).default}))(t).then(Xt));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ea=u.a.Title,ta=Object.assign((function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],l=t[1],u=Object(n.useCallback)((function(){return l(null)}),[]),f=Object(n.useState)(null),E=Object(o.a)(f,2),p=E[0],b=E[1],k=Object(n.useCallback)((function(){return b(null)}),[]),y=Object(n.useMemo)((function(){return e=function(e){var t=e.id,a=e.isActive;return l({id:t,isActive:a})},t=function(e){var t=e.id,a=e.type,n=e.name,r=e.surname;return b({id:t,targetUser:a,userName:"".concat(r," ").concat(n)})},[].concat(ct,[{title:"",key:"operation",fixed:"right",width:60,render:function(a){return r.a.createElement(it,{id:a.id,isActive:a.isActive,changeActive:function(){return e(a)},changePassword:function(){return t(a)},userType:a.type})}}]);var e,t}),[]),w=Object(d.d)(),j=Object(o.a)(w,2),v=j[0],g=v.data,O=v.loading,h=(v.error,j[1]),z=Object(n.useCallback)((function(){return h((function(){return $t({})}))()}),[h]);return Object(n.useEffect)((function(){z()}),[z]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,g&&r.a.createElement(s.a.Link,{to:"/users/add",icon:r.a.createElement(m.a,null),shape:"round"},"Dodaj u\u017cytkownika"),r.a.createElement(s.a.Title,null,r.a.createElement(ea,{level:2},"Lista u\u017cytkownik\xf3w"))),g?r.a.createElement(c.a,{loading:O,rowKey:"id",pagination:!1,columns:y,dataSource:g.users,scroll:{x:"max-content"}}):r.a.createElement(s.l,null,r.a.createElement(i.a,{active:!0})),null!==a&&r.a.createElement(_t,Object.assign({},a,{onCancel:u,onChange:function(){z(),u()}})),null!==p&&r.a.createElement(Wt,Object.assign({onCancel:k},p)))}),{Add:xt,Details:Gt,Edit:Qt}),aa=function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve(void 0)}),(function(){return a(811).default.update}))(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),na=function(){var e=Object(p.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.b)((function(){return Promise.resolve({})}),(function(){return a(811).default}))());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ra=Object.assign(na,{update:aa}),la=function(e){e.children;var t=e.form,a=(e.mode,e.initialValues),n=Object(ut.a)(e,["children","form","mode","initialValues"]);return r.a.createElement(se.a,Object.assign({requiredMark:!1,form:t,initialValues:a},n),r.a.createElement(se.a.Item,{label:"Parametr A",name:"a"},r.a.createElement(ue.a,{min:0})),r.a.createElement(se.a.Item,{label:"Parametr B",name:"b"},r.a.createElement(ue.a,{min:0})),r.a.createElement(se.a.Item,{label:"Parametr V",name:"v"},r.a.createElement(ue.a,{min:0})))},ia=function(){var e=Object(n.useState)("details"),t=Object(o.a)(e,2),a=t[0],l=(t[1],se.a.useForm()),i=Object(o.a)(l,1)[0],c=Object(d.d)(),u=Object(o.a)(c,2),m=u[0],s=m.data,f=(m.loading,m.error,u[1]);return Object(n.useEffect)((function(){f((function(){return ra()}))()}),[f]),s?r.a.createElement(la,{mode:a,form:i,initialValues:s}):r.a.createElement("div",null,"Wczytuje")};t.default=function(){return r.a.createElement(lt,null,r.a.createElement(l.d,null,r.a.createElement(s.m,{exact:!0,path:["/","/buildings"]},r.a.createElement(Ke,null)),r.a.createElement(s.m,{exact:!0,path:"/buildings/add"},r.a.createElement(Ke.Add,null)),r.a.createElement(s.m,{exact:!0,path:"/buildings/details/:id"},r.a.createElement(Ke.Details,null)),r.a.createElement(s.m,{exact:!0,path:"/buildings/edit/:id"},r.a.createElement(Ke.Edit,null)),r.a.createElement(s.m,{exact:!0,path:"/buildings/history/:id"},r.a.createElement(Ke.History,null)),r.a.createElement(s.m,{exact:!0,path:"/history"},r.a.createElement(et,null)),r.a.createElement(s.m,{exact:!0,path:"/users",whiteList:Q.d},r.a.createElement(ta,null)),r.a.createElement(s.m,{exact:!0,path:"/users/add",whiteList:Q.d},r.a.createElement(ta.Add,null)),r.a.createElement(s.m,{exact:!0,path:"/users/details/:id",whiteList:Q.d},r.a.createElement(ta.Details,null)),r.a.createElement(s.m,{exact:!0,path:"/users/edit/:id",whiteList:Q.d},r.a.createElement(ta.Edit,null)),r.a.createElement(s.m,{exact:!0,path:"/communities",whiteList:Q.e},r.a.createElement(_,null)),r.a.createElement(s.m,{exact:!0,path:"/parameters",whiteList:Q.e},r.a.createElement(ia,null))))}}}]);