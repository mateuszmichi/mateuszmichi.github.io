(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{843:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return s}));var n=a(89),r={SOLID:"solidFuel",GAS:"gas",OIL:"oil",OVER:"over"},i="single",l="multi",c="trade",o="service",u="public",m=[i,l,c,o,u],s=function(e){var t;return(t={},Object(n.a)(t,i,"Mieszkalny jednorodzinny"),Object(n.a)(t,l,"Mieszkalny wielorodzinny"),Object(n.a)(t,c,"Handlowy"),Object(n.a)(t,o,"Us\u0142ugowy"),Object(n.a)(t,u,"U\u017cyteczno\u015bci publicznej"),t)[e]}},847:function(e,t,a){"use strict";a.r(t);t.default=Object.assign((function(){return{a:24.111,b:11.001,v:102}}),{update:function(e){}})},856:function(e,t,a){"use strict";a.r(t);var n=["Mazowieckie","Dolno\u015bl\u0105skie"],r=["Jerzy","Edyta","Jadwiga"],i=["Kowalski","Nowak","Dudek"],l=["\u0141\u0119ko\u0142ody","Grzmig\xf3ry","\u0141\u0119czy\u0144ski"],c=["\u0106mi\u0142\xf3w","Niepor\u0119t","Zakr\u0119t","\u0141yse Pole"],o=function(e){var t=e.from,a=void 0===t?0:t,n=e.to;return a+Math.floor((n-a)*Math.random())},u=function(e){return e[o({to:e.length})]};t.default=function(){return{communities:new Array(4).fill(0).map((function(e,t){return function(e){return{id:e,name:c[e%4],voivodeship:u(n),district:u(l),contact:{id:o({to:120}),name:u(r),surname:u(i)},isActive:Math.random()>.5}}(t)}))}}},857:function(e,t,a){"use strict";a.r(t),t.default=function(e){return 10}},858:function(e,t,a){"use strict";a.r(t),t.default=function(e){return e.id}},859:function(e,t,a){"use strict";a.r(t),t.default=function(e){return{id:e,name:"Gmina \u0106mi\u0142\xf3w",voivodeship:"Mazowieckie",district:"\u0141\u0119ko\u0142ody",contact:{id:100,name:"Pawe\u0142",surname:"Skoczkowski"},isActive:!0}}},860:function(e,t,a){"use strict";a.r(t),t.default=function(e){return 10}},900:function(e,t,a){"use strict";a.r(t);var n=a(843),r=["Londyn","Zdr\xf3j grodzisko","Wawa","Grudzi\u0105d\u017a"],i=["Graniczna","Kwiatowa","Jana Paw\u0142a II"],l=[n.b.GAS,n.b.OIL,n.b.OVER,n.b.SOLID],c=function(e){var t=e.from,a=void 0===t?0:t,n=e.to;return a+Math.floor((n-a)*Math.random())},o=function(e){return e[c({to:e.length})]};t.default=function(e){return{items:new Array(10).fill(0).map((function(t,a){return function(e,t){var a,n,u=e.city,m=e.street;e.yearFrom,e.yearTo;return{id:t,city:u||o(r),street:m||o(i),building:c({from:1,to:256}).toString(),date:(a=new Date(2012,0,1),n=new Date,new Date(a.getTime()+Math.random()*(n.getTime()-a.getTime()))),area:c({from:43,to:2300}),heatSource:o(l),fuel:"bleh"}}(e,a)})),filters:{cities:r,streets:i},totalCount:c({from:30,to:56}),currentPage:e.page||0}}},905:function(e,t,a){"use strict";a.r(t),t.default=function(e){}},917:function(e,t,a){"use strict";a.r(t),t.default=function(e){return e.name.includes("popr")?{status:"failed",errors:new Array(40).fill(0).map((function(){return"Wiersz pierwszy s\u0142aby"}))}:{status:"success"}}},933:function(e,t,a){"use strict";a.r(t);var n=["Jerzy","Edyta","Jadwiga"],r=["Kowalski","Nowak","Dudek"],i=["Londyn","Zdr\xf3j grodzisko","Wawa","Grudzi\u0105d\u017a"],l=["Graniczna","Kwiatowa","Jana Paw\u0142a II","-"],c=[void 0,"1","4","5"],o=function(e){var t=e.from,a=void 0===t?0:t,n=e.to;return a+Math.floor((n-a)*Math.random())},u=function(e){return e[o({to:e.length})]},m=new Date("2012-03-12"),s=new Date;t.default=function(e){return{items:new Array(10).fill(0).map((function(t,a){return function(e,t){var a=t.userId,d=t.from,f=void 0===d?m:d,b=t.to,E=void 0===b?s:b;t.modification;return{id:e,questionnaireId:e+o({from:0,to:4}),address:{city:u(i),street:u(l),building:o({from:1,to:20}).toString(),flat:u(c)},date:new Date(o({from:f.getTime(),to:E.getTime()})),user:void 0!==a?{name:n[a%3],surname:r[a%3],id:a}:{name:u(n),surname:u(r),id:o({from:1,to:100})}}}(a,e)})),filters:{usersList:new Array(3).fill(0).map((function(e,t){return{name:n[t],surname:r[t],id:t}}))},totalCount:o({from:40,to:70}),currentPage:e.page||0}}},934:function(e,t,a){"use strict";a.r(t),t.default=function(e){return 10}},935:function(e,t,a){"use strict";a.r(t),t.default=function(e){return{name:"Zbigniew",surname:"Kierowniczy",position:"Kierownik",phone:"515151898",email:"kierownik@wp.pl"}}},936:function(e,t,a){"use strict";a.r(t),t.default=function(e){return e.id}},937:function(e,t,a){"use strict";a.r(t),t.default=function(e){return{id:e.id}}},938:function(e,t,a){"use strict";a.r(t);var n=a(196);t.default=function(e){return{id:e,login:"kierowniczy_1",name:"Zbigniew",surname:"Kierowniczy",position:"Kierownik",phone:"515151898",email:"kierownik@wp.pl",isActive:!0,canEdit:!0,type:n.a.ADMIN}}},939:function(e,t,a){"use strict";a.r(t),t.default=function(e){return 10}},940:function(e,t,a){"use strict";a.r(t);var n=a(186),r=a(196),i=["Jerzy","Edyta","Jadwiga"],l=["Kowalski","Nowak","Dudek"],c=["Asystent","-"],o=function(e){var t=e.from,a=void 0===t?0:t,n=e.to;return a+Math.floor((n-a)*Math.random())},u=function(){return Math.random()>.5},m=function(e){return e[o({to:e.length})]};t.default=function(e){return{users:[{id:0,login:"kierowniczy_1",name:"Zbigniew",surname:"Kierowniczy",position:"Kierownik",phone:"515151898",email:"kierownik@wp.pl",isActive:!0,canEdit:!0,type:r.a.ADMIN}].concat(Object(n.a)(new Array(9).fill(0).map((function(e,t){return function(e){return function(t){var a=t.name,n=t.surname;return{id:e,login:"".concat(a).concat(o({from:1,to:30})),name:a,surname:n,position:m(c),phone:o({from:5e8,to:7e8}).toString(),email:"".concat(a.toLowerCase()).concat(n.toLowerCase(),"@gmail.com"),isActive:u(),canEdit:u(),type:r.a.NORMAL}}({name:m(i),surname:m(l)})}(t+1)}))))}}},943:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(36),l=(a(830),a(833)),c=(a(834),a(832)),o=a(70),u=(a(243),a(109)),m=a(94),s=a(948),d=a(163),f=a(427),b=a(286),E=Object(f.a)(b.a),p=Object(f.a)(b.b,(function(e){return e})),k=a(10),y=a(47),j=a.n(y),w=a(69),v=a(164),g=function(e){return e},O=function(){var e=Object(w.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve({communities:[]})}),(function(){return a(856).default}))(void 0).then(g));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=a(944),z=a(945),I=a(946),C=a(947),x=function(e){var t=e.changeActive,a=e.id,n=e.isActive;return r.a.createElement(d.k,null,r.a.createElement(d.k.Item,null,r.a.createElement(d.k.Link,{icon:r.a.createElement(h.a,null),to:"/communities/details/".concat(a)},"Szczeg\xf3\u0142y")),r.a.createElement(d.k.Item,null,r.a.createElement(d.k.Link,{icon:r.a.createElement(z.a,null),to:"/communities/edit/".concat(a)},"Edytuj")),n?r.a.createElement(d.k.Item,null,r.a.createElement(d.k.FakeLink,{icon:r.a.createElement(I.a,null),onClick:t},"Zablokuj")):r.a.createElement(d.k.Item,null,r.a.createElement(d.k.FakeLink,{icon:r.a.createElement(C.a,null),onClick:t},"Przywr\xf3\u0107")))},P=(a(297),a(194)),A=(a(124),a(48)),F=(a(295),a(93)),D=a(79),T=(a(244),a(139)),S=(a(428),a(298)),L=a(38),M=a(89),_=a(90),V=function(e){var t=e.city,a=e.street,n=e.building,r=e.flat;return"".concat(t).concat(a&&a!==_.b?" ul. ".concat(a):""," ").concat(n).concat(r?"/".concat(r):"")},N=a(196),U=function(e){var t;return(t={},Object(M.a)(t,N.a.NORMAL,"Podstawowy"),Object(M.a)(t,N.a.ADMIN,"Administrator"),Object(M.a)(t,N.a.SUPERADMIN,"Administrator KAPE"),t)[e]},R=(a(299),a(165));function W(e){var t=e.mode,a=e.name,n=e.rules,i=e.formatter;return"details"===t?r.a.createElement(d.c.ValueItem,{name:a,label:i(a)},r.a.createElement(d.c.Value,null)):r.a.createElement(F.a.Item,{name:a,label:i(a),rules:n},r.a.createElement(T.a,null))}function Y(e){var t=e.mode,a=e.name,n=e.rules,i=e.formatter;return"details"===t?r.a.createElement(d.c.ValueItem,{name:a,valuePropName:"checked"},r.a.createElement(R.a,{disabled:!0},i(a))):r.a.createElement(F.a.Item,{name:a,rules:n,valuePropName:"checked"},r.a.createElement(R.a,null,i(a)))}var K=a(200),Z=u.a.Title,B="name",G="voivodeship",H="district",q="isActive",J="contact",Q="admin.type",X="admin.login",$="admin.name",ee="admin.surname",te="admin.position",ae="admin.phone",ne="admin.email",re=function(e){var t;return(t={},Object(M.a)(t,B,"Nazwa"),Object(M.a)(t,G,"Wojew\xf3d\u017atwo"),Object(M.a)(t,H,"Powiat"),Object(M.a)(t,q,"Aktywno\u015b\u0107 gminy"),Object(M.a)(t,J,"Osoba odpowiedzialna"),Object(M.a)(t,Q,"Typ u\u017cytkownika"),Object(M.a)(t,X,"Login"),Object(M.a)(t,$,"Imi\u0119"),Object(M.a)(t,ee,"Nazwisko"),Object(M.a)(t,te,"Stanowisko"),Object(M.a)(t,ae,"Telefon"),Object(M.a)(t,ne,"E-mail"),t)[e]},ie=function(e){var t=e.children,a=e.form,n=e.mode,i=e.initialValues,l=Object(L.a)(e,["children","form","mode","initialValues"]);return r.a.createElement(d.c,Object.assign({requiredMark:!1,form:a,initialValues:i,validateMessages:K.c,layout:"vertical"},l),r.a.createElement(W,{mode:n,name:B,formatter:re,rules:[K.b]}),r.a.createElement(F.a.Item,{name:G,label:re(G),rules:[K.b]},r.a.createElement(S.a,null,r.a.createElement(S.a.Option,{key:0,value:0},"Mazowieckie"),r.a.createElement(S.a.Option,{key:1,value:1},"\u015awi\u0119tkorzystkie"))),r.a.createElement(W,{mode:n,name:H,formatter:re,rules:[K.b]}),r.a.createElement(Z,{level:3},"Utworzenie administratora"),r.a.createElement(d.c.ValueItem,{label:re(Q),shouldUpdate:function(e,t){return e.type!==t.type}},r.a.createElement(d.c.Value,{value:U(N.a.ADMIN)})),r.a.createElement(F.a.Item,{name:X,label:re(X),rules:[K.b]},r.a.createElement(T.a,null)),r.a.createElement(W,{mode:n,name:$,formatter:re,rules:[K.b]}),r.a.createElement(W,{mode:n,name:ee,formatter:re,rules:[K.b]}),r.a.createElement(W,{mode:n,name:te,formatter:re,rules:[K.b]}),r.a.createElement(W,{mode:n,name:ae,formatter:re,rules:[K.b]}),r.a.createElement(W,{mode:n,name:ne,formatter:re,rules:[K.b,K.a]}),t)},le=Object(m.b)(null,{openCard:p})((function(e){var t=e.openCard,a=e.children,n=e.form,i=e.mode,l=e.initialValues,c=Object(L.a)(e,["openCard","children","form","mode","initialValues"]);return r.a.createElement(d.c,Object.assign({requiredMark:!1,form:n,initialValues:l,validateMessages:K.c,layout:"vertical"},c),r.a.createElement(W,{mode:i,name:B,formatter:re,rules:[K.b]}),"details"===i?r.a.createElement(d.c.ValueItem,{name:G,label:re(G)},r.a.createElement(d.c.Value,null)):r.a.createElement(F.a.Item,{name:G,label:re(G),rules:[K.b]},r.a.createElement(S.a,null,r.a.createElement(S.a.Option,{key:0,value:0},"Mazowieckie"),r.a.createElement(S.a.Option,{key:1,value:1},"\u015awi\u0119tkorzystkie"))),r.a.createElement(W,{mode:i,name:H,formatter:re,rules:[K.b]}),"details"===i&&r.a.createElement(d.c.ValueItem,{label:re(q),shouldUpdate:function(e,t){return e.isActive!==t.isActive}},(function(e){var t=e.getFieldValue;return r.a.createElement(d.c.Value,{value:t(q)?"Aktywne":"Nieaktywne"})})),r.a.createElement(d.c.ValueItem,{label:re(J),shouldUpdate:function(e,t){return e.contact!==t.contact}},(function(e){return function(e){var a=e.name,n=e.surname,i=e.id;return r.a.createElement(d.c.LinkValue,{onClick:function(){return t(i)}},"".concat(n," ").concat(a))}((0,e.getFieldValue)(J))})),a)})),ce=a(195),oe=function(e){var t=e["admin.login"],a=e["admin.name"],n=e["admin.surname"],r=e["admin.position"],i=e["admin.phone"],l=e["admin.email"],c=Object(L.a)(e,["admin.login","admin.name","admin.surname","admin.position","admin.phone","admin.email"]);return Object(ce.a)({},c,{admin:{login:t,name:a,surname:n,position:r,phone:i,email:l}})},ue=function(e){return e},me=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve(10)}),(function(){return a(857).default}))(oe(t)).then(ue));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=u.a.Title,de=function(e){var t=e.addNew;return r.a.createElement(P.a,{status:"success",title:"Dodano now\u0105 gmin\u0119",extra:[r.a.createElement(D.b,{to:"/communities",key:"/communities"},r.a.createElement(A.a,{type:"primary"},"Lista gmin")),r.a.createElement(A.a,{type:"default",onClick:t,key:"/add"},"Dodaj kolejn\u0105")]})},fe=function(){var e=Object(i.g)(),t=F.a.useForm(),a=Object(o.a)(t,1)[0],l=Object(k.d)(),c=Object(o.a)(l,3),u=c[0],m=u.data,s=u.loading,f=u.error,b=c[1],E=c[2],p=Object(n.useCallback)(function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b((function(){return me(t)}))());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b]),y=Object(n.useCallback)((function(e){return p(e)}),[p]),v=Object(n.useCallback)((function(){a.resetFields(),E({type:"reset"})}),[E,a]),g=void 0!==m&&!f;return r.a.createElement(d.l,null,g?r.a.createElement(de,{addNew:v}):r.a.createElement(d.j,{loading:s},r.a.createElement(r.a.Fragment,null,r.a.createElement(d.l.Header,null,r.a.createElement(se,{level:3},"Dodanie nowej gminy")),r.a.createElement(ie,{mode:"add",form:a,onFinish:y}),r.a.createElement(d.l.Footer,null,r.a.createElement(A.a,{type:"primary",size:"large",onClick:function(){return a.submit()}},"Dodaj gmin\u0119"),r.a.createElement(A.a,{type:"link",size:"large",onClick:function(){return e.goBack()}},"< Powr\xf3t")))))},be=function(){return 1},Ee=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve(1)}),(function(){return a(858).default}))(t).then(be));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=u.a.Paragraph,ke=u.a.Title,ye=u.a.Text,je=function(e){var t=e.isActive,a=e.onChange;return r.a.createElement(P.a,{status:"success",title:t?"Pomy\u015blne zdezaktywowano dost\u0119p dla gminy":"Pomy\u015blnie przywr\xf3cono dost\u0119p dla gminy",extra:[r.a.createElement(A.a,{type:"primary",onClick:a,key:"/close"},"Zamknij")]})},we=function(e){var t=e.id,a=e.isActive,i=e.onCancel,l=e.onChange,c=Object(k.d)(),m=Object(o.a)(c,2),s=m[0],f=s.data,b=s.loading,E=(s.error,m[1]),p=Object(n.useCallback)(Object(w.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E((function(){return Ee({id:t,isActive:!a})}))();case 1:case"end":return e.stop()}}),e)}))),[t,a,E]),y=void 0!==f;return r.a.createElement(d.d,{size:"small",onCancel:y?l:i,visible:!0,title:a?"Wy\u0142\u0105czenie aplikacji dla gminy":"Ponowna aktywacja aplikacji",okButtonProps:a?{danger:!0}:{},footer:y?null:void 0,okText:a?"Dezaktywuj":"Aktywuj",cancelText:"Anuluj",onOk:p},r.a.createElement(d.j,{loading:b},y?r.a.createElement(je,{isActive:a,onChange:l}):a?r.a.createElement(u.a,null,r.a.createElement(ke,{type:"danger",level:5},"Dezaktywujesz dost\u0119p do aplikacji dla ca\u0142ej gminy"),r.a.createElement(pe,null,r.a.createElement(ye,null,"Dezaktywacja gminy spowoduje, \u017ce niemo\u017cliwe b\u0119dzie zalogowanie si\u0119 na konta u\u017cytkownik\xf3w gminy. Konta oraz gmina nie zostan\u0105 usuni\u0119te, by umo\u017cliwi\u0107 przywr\xf3cenie dost\u0119pu w przysz\u0142o\u015bci."))):r.a.createElement(u.a,null,r.a.createElement(ke,{level:5},"Przywracasz dost\u0119p do aplikacji dla gminy"),r.a.createElement(pe,null,r.a.createElement(ye,null,"Przywr\xf3cona zostanie mo\u017cliwo\u015b\u0107 logowania si\u0119 na konto przez u\u017cytkownik\xf3w gminy.")))))},ve=function(e){return e},ge=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve({})}),(function(){return a(859).default}))(t).then(ve));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=u.a.Title,he=function(){var e=Object(k.b)(),t=Object(i.g)(),a=F.a.useForm(),l=Object(o.a)(a,1)[0],c=Object(k.d)(),u=Object(o.a)(c,2),m=u[0],s=m.data,f=m.loading,b=(m.error,u[1]);return Object(n.useEffect)((function(){b((function(){return ge(e)}))()}),[e,b]),r.a.createElement(d.l,null,r.a.createElement(d.j,{loading:f},r.a.createElement(d.l.Header,null,r.a.createElement(Oe,{level:3},"Dane gminy")),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{mode:"details",form:l,initialValues:s}),r.a.createElement(d.l.Footer,null,r.a.createElement(D.b,{to:"/communities/edit/".concat(e)},r.a.createElement(A.a,{type:"primary",size:"large"},"Edytuj")),r.a.createElement(A.a,{type:"link",size:"large",onClick:function(){return t.goBack()}},"< Powr\xf3t")))))},ze=function(e){return e},Ie=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve(10)}),(function(){return a(860).default}))(t).then(ze));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=u.a.Title,xe=function(e){var t=e.id;return r.a.createElement(P.a,{status:"success",title:"Zapisano zmiany",extra:[r.a.createElement(D.b,{to:"/communities",key:"/communities"},r.a.createElement(A.a,{type:"primary"},"Lista gmin")),r.a.createElement(D.b,{to:"/communities/details/".concat(t),key:"/details"},r.a.createElement(A.a,{type:"default"},"Szczeg\xf3\u0142y gminy"))]})},Pe=function(){var e=Object(i.g)(),t=Object(k.b)(),a=F.a.useForm(),l=Object(o.a)(a,1)[0],c=Object(k.d)(),u=Object(o.a)(c,2),m=u[0],s=m.data,f=m.loading,b=m.error,E=u[1];Object(n.useEffect)((function(){E((function(){return ge(t)}))()}),[t,E]);var p=Object(k.d)(),y=Object(o.a)(p,2),v=y[0],g=v.data,O=v.loading,h=v.error,z=y[1],I=Object(n.useCallback)(function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z((function(){return Ie(t)}))());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[z]),C=Object(n.useCallback)((function(e){return I(e)}),[I]),x=void 0!==s&&!b,P=x&&void 0!==g&&!h;return r.a.createElement(d.l,null,P?r.a.createElement(xe,{id:t}):r.a.createElement(d.j,{loading:O||f},r.a.createElement(r.a.Fragment,null,r.a.createElement(d.l.Header,null,r.a.createElement(Ce,{level:3},"Edycja danych gminy")),x&&r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{mode:"edit",form:l,onFinish:C,initialValues:s}),r.a.createElement(d.l.Footer,null,r.a.createElement(A.a,{type:"primary",size:"large",onClick:function(){return l.submit()}},"Zapisz zmiany"),r.a.createElement(A.a,{type:"link",size:"large",onClick:function(){return e.goBack()}},"< Powr\xf3t"))))))},Ae=u.a.Title,Fe=Object(m.b)(null,{openCard:p}),De=Object.assign(Fe((function(e){var t=e.openCard,a=Object(n.useState)(null),i=Object(o.a)(a,2),u=i[0],m=i[1],f=Object(n.useCallback)((function(){return m(null)}),[]),b=Object(n.useMemo)((function(){return e=function(e){var t=e.id,a=e.isActive;return m({id:t,isActive:a})},a=t,[{title:"Nazwa gminy",width:100,dataIndex:"name",key:"name",fixed:"left"},{title:"Wojew\xf3d\u017atwo",width:80,dataIndex:"voivodeship",key:"voivodeship"},{title:"Powiat",width:80,dataIndex:"district",key:"district"},{title:"Osoba kontaktowa",width:100,dataIndex:"contact",key:"contact",render:function(e){return r.a.createElement(d.e.Button,{type:"link",onClick:function(){return a(e.id)}},"".concat(e.surname," ").concat(e.name))}},{title:"Dost\u0119p",dataIndex:"isActive",key:"isActive",width:20,render:function(e){return e?"Aktywny":"Nieaktywny"}},{title:"",key:"operation",fixed:"right",width:60,render:function(t){return r.a.createElement(x,{id:t.id,isActive:t.isActive,changeActive:function(){return e(t)}})}}];var e,a}),[t]),E=Object(k.d)(),p=Object(o.a)(E,2),y=p[0],j=y.data,w=y.loading,v=(y.error,p[1]),g=Object(n.useCallback)((function(){return v((function(){return O()}))()}),[v]);return Object(n.useEffect)((function(){g()}),[g]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,j&&r.a.createElement(d.a.Link,{to:"/communities/add",icon:r.a.createElement(s.a,null),shape:"round"},"Dodaj gmin\u0119"),r.a.createElement(d.a.Title,null,r.a.createElement(Ae,{level:2},"Lista gmin"))),j?r.a.createElement(c.a,{loading:w,rowKey:"id",pagination:!1,columns:b,dataSource:j.communities,scroll:{x:"max-content"}}):r.a.createElement(d.l,null,r.a.createElement(l.a,null)),null!==u&&r.a.createElement(we,Object.assign({},u,{onCancel:f,onChange:function(){g(),f()}})))})),{Add:fe,Details:he,Edit:Pe}),Te=(a(880),a(404)),Se=a(149),Le=a(954),Me=a(953),_e=a(198),Ve=a(882),Ne=a.n(Ve),Ue=a(899),Re=function(e){return e},We=function(e){var t=e.page,a=e.city,n=e.street,r=e.yearFrom,i=e.yearTo;return{page:t,city:a,street:n,yearFrom:r?r.year():void 0,yearTo:i?i.year():void 0}},Ye=function(){var e=Object(w.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.a.get("/Excel",{params:We(t),responseType:"blob"});case 2:a=e.sent,Object(Ue.saveAs)(a.data,"Eksport danych.xlsx");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve({})}),(function(){return a(900).default}))(We(t)).then(Re));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=Object.assign(Ke,{loadExcel:Ye}),Be=a(949),Ge=a(950),He=function(e){var t=e.onDelete,a=e.id,n=e.canEdit,i=e.userType;return r.a.createElement(d.k,null,r.a.createElement(d.k.Item,null,r.a.createElement(d.k.Link,{icon:r.a.createElement(h.a,null),to:"/buildings/details/".concat(a)},"Szczeg\xf3\u0142y")),n?r.a.createElement(d.k.Item,null,r.a.createElement(d.k.Link,{icon:r.a.createElement(z.a,null),to:"/buildings/edit/".concat(a)},"Edytuj")):null,_.d.includes(i)?r.a.createElement(d.k.Item,null,r.a.createElement(d.k.FakeLink,{icon:r.a.createElement(Be.a,null),onClick:t},"Usu\u0144")):null,r.a.createElement(d.k.Item,null,r.a.createElement(d.k.Link,{icon:r.a.createElement(Ge.a,null),to:"/buildings/history/".concat(a)},"Historia")))},qe=["city","street","building","operation"],Je=[{title:"Miejscowo\u015b\u0107",width:100,dataIndex:"city",key:"city",fixed:"left"},{title:"Ulica",width:100,dataIndex:"street",key:"street",fixed:"left"},{title:"nr",dataIndex:"building",key:"building",width:20},{title:"Data ankiety",dataIndex:"date",key:"date",width:100},{title:"Powierzchnia",dataIndex:"area",key:"area",width:50},{title:"\u0179r\xf3d\u0142o ciep\u0142a",dataIndex:"heatSource",key:"heatSource",width:60},{title:"Paliwo",dataIndex:"fuel",key:"fuel",width:60}];var Qe=["fuel","heatSource","area"],Xe=Je.map((function(e){return{label:e.title,value:e.key}})).filter((function(e){var t=e.value;return t&&"string"===typeof t&&!qe.includes(t)})),$e=(a(844),a(849)),et=a(843),tt=u.a.Title,at={labelCol:{span:4},wrapperCol:{span:8}},nt={labelCol:{span:4},wrapperCol:{span:8,offset:4}},rt={type:"number",min:1800,max:2050,message:"Rok powinien by\u0107 w przedziale od 1800 do 2050"},it={type:"number",min:1,max:9999,message:"Rok powinien by\u0107 w przedziale od 1800 do 2050"},lt=function(){var e=F.a.useForm(),t=Object(o.a)(e,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{requiredMark:!1,size:"middle",name:"login-form",form:t,validateMessages:K.c,onFinish:function(e){console.log(e)}},r.a.createElement(tt,{level:4},"Dodaj ankiet\u0119"),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Miejscowo\u015b\u0107",name:"city",rules:[K.b]}),r.a.createElement(T.a,null)),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Ulica",name:"street",rules:[K.b]}),r.a.createElement(d.c.InputWithOmit,null)),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Numer budynku",name:"building",rules:[K.b]}),r.a.createElement(T.a,null)),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Numer lokalu",name:"local"}),r.a.createElement(T.a,null)),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Rok budowy",name:"year",rules:[K.b,rt]}),r.a.createElement($e.a,{type:"number",step:1,precision:0})),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Typ budynku",name:"type",rules:[K.b]}),r.a.createElement(S.a,null,et.a.map((function(e){return r.a.createElement(S.a.Option,{key:e,value:e},Object(et.c)(e))})))),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Powierzchnia u\u017cytkowa budynku/lokalu [m^2]",name:"area",rules:[K.b,it]}),r.a.createElement($e.a,null)),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Ocieplenie \u015bcian",name:"termo_walls_if",valuePropName:"checked"}),r.a.createElement(R.a,null,"Wykonano")),r.a.createElement(d.c.DependentFields,{depend:["termo_walls_if"],requirement:function(e){return Boolean(e("termo_walls_if"))}},r.a.createElement(F.a.Item,Object.assign({},at,{label:"Uzyskana powierzchnia [m^2]",name:"termo_walls_area"}),r.a.createElement($e.a,null)),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Grubo\u015b\u0107 ocieplenia [m^2]",name:"termo_walls_width"}),r.a.createElement($e.a,null)),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Rok wykonania",name:"termo_walls_year"}),r.a.createElement($e.a,null))),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Ocieplenie dachu/stropodachu",name:"termo_roof_if",valuePropName:"checked"}),r.a.createElement(R.a,null,"Wykonano")),r.a.createElement(d.c.DependentFields,{depend:["termo_roof_if"],requirement:function(e){return Boolean(e("termo_roof_if"))}},r.a.createElement(F.a.Item,Object.assign({},at,{label:"Uzyskana powierzchnia [m^2]",name:"termo_roof_area"}),r.a.createElement($e.a,null)),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Grubo\u015b\u0107 ocieplenia [m^2]",name:"termo_roof_width"}),r.a.createElement($e.a,null)),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Rok wykonania",name:"termo_roof_year"}),r.a.createElement($e.a,null))),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Wymiana okien",name:"termo_window_if",valuePropName:"checked"}),r.a.createElement(R.a,null,"Wykonano")),r.a.createElement(d.c.DependentFields,{depend:["termo_window_if"],requirement:function(e){return Boolean(e("termo_window_if"))}},r.a.createElement(F.a.Item,Object.assign({},at,{label:"[m^2, szt.]",name:"termo_window_count"}),r.a.createElement(T.a,null)),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Rok wykonania",name:"termo_window_year"}),r.a.createElement($e.a,null))),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Wymiana drzwi",name:"termo_door_if",valuePropName:"checked"}),r.a.createElement(R.a,null,"Wykonano")),r.a.createElement(d.c.DependentFields,{depend:["termo_door_if"],requirement:function(e){return Boolean(e("termo_door_if"))}},r.a.createElement(F.a.Item,Object.assign({},at,{label:"[m^2, szt.]",name:"termo_door_count"}),r.a.createElement(T.a,null)),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Rok wykonania",name:"termo_door_year"}),r.a.createElement($e.a,null))),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Wymiana \u017ar\xf3de\u0142 ciep\u0142a",name:"termo_source_change"}),r.a.createElement(T.a,{placeholder:"(z jakiego na jakie?)"})),r.a.createElement(d.c.DependentFields,{depend:["termo_source_change"],requirement:function(e){return Boolean(e("termo_source_change"))}},r.a.createElement(F.a.Item,Object.assign({},at,{label:"Rok wykonania",name:"termo_source_year"}),r.a.createElement($e.a,null))),r.a.createElement(F.a.Item,Object.assign({},at,{label:"Wymiana \u017ar\xf3de\u0142 ciep\u0142a",name:"termo_source_change"}),r.a.createElement(T.a,{placeholder:"(z jakiego na jakie?)"})),r.a.createElement(d.c.DependentFields,{depend:["termo_source_change"],requirement:function(e){return Boolean(e("termo_source_change"))}},r.a.createElement(F.a.Item,Object.assign({},at,{label:"Rok wykonania",name:"termo_source_year"}),r.a.createElement($e.a,null))),r.a.createElement(F.a.Item,nt,r.a.createElement(A.a,{type:"primary",htmlType:"submit"},"Dodaj"))))},ct=function(){return 1},ot=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve(void 0)}),(function(){return a(905).default}))(t).then(ct));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=u.a.Paragraph,mt=u.a.Title,st=u.a.Text,dt=function(e){var t=e.onDelete;return r.a.createElement(P.a,{status:"success",title:"Pomy\u015blne usuni\u0119to rekord",extra:[r.a.createElement(A.a,{type:"primary",onClick:t,key:"/close"},"Zamknij")]})},ft=function(e){var t=e.address,a=e.id,i=e.onCancel,l=e.onDelete,c=Object(k.d)(),m=Object(o.a)(c,2),s=m[0],f=s.data,b=s.loading,E=(s.error,m[1]),p=Object(n.useCallback)(Object(w.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E((function(){return ot(a)}))();case 1:case"end":return e.stop()}}),e)}))),[a,E]),y=void 0!==f;return r.a.createElement(d.d,{size:"small",onCancel:y?l:i,visible:!0,title:"Usuni\u0119cie ankiety z bazy",okButtonProps:{danger:!0},footer:y?null:void 0,okText:"Usu\u0144",cancelText:"Anuluj",onOk:p},r.a.createElement(d.j,{loading:b},y?r.a.createElement(dt,{onDelete:l}):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,r.a.createElement(mt,{type:"danger",level:5},"Usuwasz ankiet\u0119"),r.a.createElement(ut,null,r.a.createElement(st,null,"Usuni\u0119cie ankiety spowoduje, \u017ce dane o historii jej edycji oraz same dane ankiety przestan\u0105 by\u0107 dost\u0119pne w aplikacji. Zmiana jest nieodwracalna."))),r.a.createElement(F.a,{layout:"vertical"},r.a.createElement(d.c.ValueItem,{label:"Adres"},r.a.createElement(d.c.Value,{value:t}))))))},bt=function(){return r.a.createElement(r.a.Fragment,null,"No to mamy to")},Et=function(){return r.a.createElement(r.a.Fragment,null,"No to mamy to")},pt=function(){return r.a.createElement(r.a.Fragment,null,"No to mamy to")},kt=(a(850),a(848)),yt=a(951),jt=a(831),wt=a.n(jt),vt=function(e){return Object.keys(e).reduce((function(t,a){return e[a]?Object.assign(t,Object(M.a)({},a,e[a])):t}),{})},gt=function(e){var t=e.page,a=e.city,n=e.street,r=e.yearFrom,i=e.yearTo;return{page:t?parseInt(t,10):void 0,city:a,street:n,yearFrom:r?wt()(r):void 0,yearTo:i?wt()(i):void 0}},Ot=function(e){var t=e.page,a=e.city,n=e.street,r=e.yearFrom,i=e.yearTo;return Object(Se.stringify)(vt({page:void 0!==t?t.toString():void 0,city:a,street:n,yearFrom:r?r.format("YYYY"):void 0,yearTo:i?i.format("YYYY"):void 0}))},ht=function(e){var t=e.visibleColumns,a=e.setVisibleColumns,l=e.parameters,c=e.cities,u=e.streets,m=F.a.useForm(),s=Object(o.a)(m,1)[0],f=Object(i.g)();return Object(n.useEffect)((function(){var e=Object(Se.parse)(l);s.setFieldsValue(gt(e))}),[s,l]),r.a.createElement(F.a,{form:s,name:"filters",layout:"inline",onFinish:function(e){f.push("/?".concat(Ot(e)))}},r.a.createElement(F.a.Item,{name:"city"},r.a.createElement(d.g.Select,{allowClear:!0,placeholder:"Miasto"},c.map((function(e){return r.a.createElement(S.a.Option,{value:e,key:e},e)})))),r.a.createElement(F.a.Item,{name:"street"},r.a.createElement(d.g.Select,{allowClear:!0,placeholder:"Ulica"},u.map((function(e){return r.a.createElement(S.a.Option,{value:e,key:e},e)})))),r.a.createElement(F.a.Item,{name:"yearFrom"},r.a.createElement(kt.a.YearPicker,{placeholder:"Rok budowy (od)"})),r.a.createElement(F.a.Item,{name:"yearTo"},r.a.createElement(kt.a.YearPicker,{placeholder:"Rok budowy (do)"})),r.a.createElement(F.a.Item,null,r.a.createElement(d.g.MultiSelect,{value:t,onChange:a,options:Xe},(function(e,t){return r.a.createElement(A.a,{onClick:t},"Wybrane ".concat(e.length," kolumny"))}))),r.a.createElement(F.a.Item,null,r.a.createElement(A.a,{type:"primary",htmlType:"submit",icon:r.a.createElement(yt.a,null)},"Wyszukaj")))},zt=(a(942),a(941)),It=a(952),Ct=function(e){return e},xt=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve({})}),(function(){return a(917).default}))(t).then(Ct));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=zt.a.Dragger,At="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",Ft=function(e){var t=e.onFileUpload;return r.a.createElement(P.a,{status:"success",title:"Pomy\u015blne wgranie danych",subTitle:"Wgrano pomy\u015blnie dane... Mo\u017ce chcesz statystyki?",extra:[r.a.createElement(A.a,{type:"primary",onClick:t,key:"/close"},"Zamknij")]})},Dt=function(e){var t=e.errors;return r.a.createElement(d.f,null,r.a.createElement(d.f.Title,null,"Plik niemo\u017cliwy do wgrania - lista b\u0142\u0119d\xf3w"),t.map((function(e,t){return r.a.createElement(d.f.Item,{key:t},e)})))},Tt=function(e){var t=e.onCancel,a=e.onFileUpload,i=Object(n.useState)([]),l=Object(o.a)(i,2),c=l[0],u=l[1],m=Object(k.d)(),s=Object(o.a)(m,3),f=s[0],b=f.data,E=f.loading,p=(f.error,s[1]),y=s[2],j=Object(n.useCallback)((function(e){return p((function(){return xt(e)}))()}),[p]),w="success"===(null===b||void 0===b?void 0:b.status);return r.a.createElement(d.d,{visible:!0,title:"Import pliku Excel",onCancel:w?a:t,footer:null},r.a.createElement(d.j,{loading:E},w?r.a.createElement(Ft,{onFileUpload:a}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,{accept:At,beforeUpload:function(e){return e.type===At&&(u([e]),y({type:"custom",update:function(e){return e.data?Object(ce.a)({},e,{data:Object(ce.a)({},e.data,{errors:void 0})}):e}})),!1},onRemove:function(){return u([])},multiple:!1,fileList:c},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(It.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Kliknij lub przeci\u0105gnij plik .xlsx aby za\u0142adowa\u0107 dane z ankietami. Wymagany jest poprawny format pliku."),r.a.createElement("p",{className:"ant-upload-hint"},"Umo\u017cliwione jest wgrywanie pojedy\u0144czego pliku.")),r.a.createElement(d.h,null,r.a.createElement(A.a,{disabled:0===c.length,icon:r.a.createElement(Me.a,null),onClick:0===c.length?void 0:function(){return j(c[0])},type:"primary"},"Wgraj plik")),(null===b||void 0===b?void 0:b.errors)&&r.a.createElement(Dt,{errors:b.errors}))))},St=u.a.Title,Lt=Object(m.b)((function(e){return Object(ce.a)({},Object(_e.c)(e),{},Object(_e.a)(e))})),Mt={page:"0"},_t=Object.assign(Lt((function(e){var t=e.canEdit,a=e.userType,u=Object(i.g)(),m=Object(n.useState)(null),f=Object(o.a)(m,2),b=f[0],E=f[1],p=Object(n.useCallback)((function(){return E(null)}),[]),y=Object(n.useState)(!1),j=Object(o.a)(y,2),w=j[0],v=j[1],g=Object(n.useCallback)((function(){return v(!0)}),[]),O=Object(n.useCallback)((function(){return v(!1)}),[]),h=Object(n.useState)(Qe),z=Object(o.a)(h,2),I=z[0],C=z[1],x=Object(n.useMemo)((function(){return function(e,t,a){return[].concat(Je,[{title:"",key:"operation",fixed:"right",width:60,render:function(n){var i=n.id,l=n.city,c=n.street,o=n.building;return r.a.createElement(He,{id:i,onDelete:function(){return t({id:i,address:V({city:l,street:c,building:o})})},canEdit:e,userType:a})}}])}(t,E,a).filter((function(e){return qe.includes(e.key)||I.includes(e.key)}))}),[t,a,I]),P=Object(k.d)(),A=Object(o.a)(P,2),F=A[0],D=F.data,T=F.loading,S=(F.error,A[1]),L=Object(n.useCallback)((function(e){return S((function(){return Ze(gt(e))}))()}),[S]),M=Object(k.c)(L,Mt),_=Object(k.d)(),N=Object(o.a)(_,2)[1],U=Object(n.useCallback)((function(e){return N((function(){return Ze.loadExcel(gt(e))}))(void 0,(function(){return Te.b.error("Wyst\u0105pi\u0142 b\u0142\u0105d w czasie generacji pliku Excel")}))}),[N]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,D&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Link,{to:"/buildings/add",icon:r.a.createElement(s.a,null),shape:"round"},"Dodaj"),r.a.createElement(d.a.FakeLink,{type:"default",icon:r.a.createElement(Le.a,null),shape:"round",onClick:function(){return U(Object(Se.parse)(M))}},"Exportuj"),r.a.createElement(d.a.FakeLink,{type:"default",icon:r.a.createElement(Me.a,null),shape:"round",onClick:g},"Importuj")),r.a.createElement(d.a.Title,null,r.a.createElement(St,{level:2},"Lista ankiet"))),D?r.a.createElement(c.a,{title:function(){return r.a.createElement(ht,{parameters:M,cities:D.filters.cities,streets:D.filters.streets,setVisibleColumns:C,visibleColumns:I})},loading:T,rowKey:"id",pagination:{total:D.totalCount,current:D.currentPage+1,showSizeChanger:!1,onChange:function(e){return u.push("?".concat(function(e,t){return Ot(Object(ce.a)({},gt(Object(Se.parse)(t)),{page:e}))}(e-1,M)))}},columns:x,dataSource:D.items,scroll:{x:"max-content"}}):r.a.createElement(d.l,null,r.a.createElement(l.a,{active:!0})),null!==b&&r.a.createElement(ft,Object.assign({},b,{onCancel:p,onDelete:function(){var e=Object(Se.parse)(M);L(e),p()}})),w&&r.a.createElement(Tt,{onCancel:O,onFileUpload:function(){var e=Object(Se.parse)(M);L(e),O()}}))})),{Add:lt,Details:bt,Edit:Et,History:pt}),Vt=function(e){return e},Nt=function(e){var t=e.page,a=e.userId,n=e.from,r=e.to,i=e.modification;return{page:t,userId:a,from:n?n.toDate():void 0,to:r?r.toDate():void 0,modification:i}},Ut=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve({})}),(function(){return a(933).default}))(Nt(t)).then(Vt));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt=function(e){var t=e.questionnaireId;return r.a.createElement(d.k,null,r.a.createElement(d.k.Item,null,r.a.createElement(d.k.Link,{icon:r.a.createElement(h.a,null),to:"/building/details/".concat(t)},"Pe\u0142na ankieta")),r.a.createElement(d.k.Item,null,r.a.createElement(d.k.Link,{icon:r.a.createElement(Ge.a,null),to:"/building/history/".concat(t)},"Pe\u0142na historia zmian")))},Wt=function(e){var t=e.page,a=e.userId,n=e.from,r=e.to,i=e.modification;return{page:t?parseInt(t,10):void 0,userId:a?parseInt(a,10):void 0,from:n?wt()(n):void 0,to:r?wt()(r):void 0,modification:i}},Yt=function(e){var t=e.page,a=e.userId,n=e.from,r=e.to,i=e.modification;return Object(Se.stringify)(vt({page:void 0!==t?t.toString():void 0,userId:void 0!==a?a.toString():void 0,from:n?n.format("YYYY-MM-DD"):void 0,to:r?r.format("YYYY-MM-DD"):void 0,modification:i}))},Kt=function(e){var t=e.parameters,a=e.usersList,l=F.a.useForm(),c=Object(o.a)(l,1)[0],u=Object(i.g)();return Object(n.useEffect)((function(){var e=Object(Se.parse)(t);c.setFieldsValue(Wt(e))}),[c,t]),r.a.createElement(F.a,{form:c,name:"filters",layout:"inline",onFinish:function(e){u.push("/history?".concat(Yt(e)))}},r.a.createElement(F.a.Item,{name:"userId"},r.a.createElement(d.g.Select,{allowClear:!0,placeholder:"U\u017cytkownik"},a.map((function(e){var t=e.id,a=e.name,n=e.surname;return r.a.createElement(S.a.Option,{value:t,key:t},"".concat(n," ").concat(a))})))),r.a.createElement(F.a.Item,{name:"from"},r.a.createElement(kt.a,{placeholder:"Od",allowClear:!0})),r.a.createElement(F.a.Item,{name:"to"},r.a.createElement(kt.a,{placeholder:"Do",allowClear:!0})),r.a.createElement(F.a.Item,{name:"modification"},r.a.createElement(d.g.Select,{allowClear:!0,placeholder:"Rodzaj zmiany"},r.a.createElement(S.a.Option,{value:"edit",key:"edit"},"Edycja"),r.a.createElement(S.a.Option,{value:"add",key:"add"},"Dodanie"))),r.a.createElement(F.a.Item,null,r.a.createElement(A.a,{type:"primary",htmlType:"submit",icon:r.a.createElement(yt.a,null)},"Wyszukaj")))},Zt=u.a.Title,Bt={page:"0"},Gt=Object(m.b)(null,{openCard:p})((function(e){var t=e.openCard,a=Object(i.g)(),u=Object(n.useMemo)((function(){return e=t,[{title:"Adres",width:150,dataIndex:"address",key:"address",fixed:"left",render:function(e){return V(e)}},{title:"Data modyfikacji",width:50,dataIndex:"date",key:"date",render:function(e){return wt()(e).format("YYYY-MM-DD")}},{title:"U\u017cytkownik",width:150,dataIndex:"user",key:"user",render:function(t){return r.a.createElement(d.e.Button,{type:"link",onClick:function(){return e(t.id)}},"".concat(t.surname," ").concat(t.name))}},{title:"",key:"operation",fixed:"right",width:60,render:function(e){return r.a.createElement(Rt,{questionnaireId:e.questionnaireId})}}];var e}),[t]),m=Object(k.d)(),s=Object(o.a)(m,2),f=s[0],b=f.data,E=f.loading,p=(f.error,s[1]),y=Object(n.useCallback)((function(e){return p((function(){return Ut(Wt(e))}))()}),[p]),j=Object(k.c)(y,Bt);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(d.a.Title,null,r.a.createElement(Zt,{level:2},"Historia ankiet"))),b?r.a.createElement(c.a,{title:function(){return r.a.createElement(Kt,{parameters:j,usersList:b.filters.usersList})},loading:E,rowKey:"id",pagination:{total:b.totalCount,current:b.currentPage+1,showSizeChanger:!1,onChange:function(e){return a.push("/history?".concat(function(e,t){return Yt(Object(ce.a)({},Wt(Object(Se.parse)(t)),{page:e}))}(e-1,j)))}},columns:u,dataSource:b.items,scroll:{x:"max-content"}}):r.a.createElement(d.l,null,r.a.createElement(l.a,{active:!0})))})),Ht=(a(434),a(301)),qt=a(955),Jt=function(e){var t=e.close,a=Object(n.useState)(1),i=Object(o.a)(a,2),l=i[0],c=i[1];return r.a.createElement(d.d,{size:"small",visible:!0,onCancel:t,onOk:function(){return t()},okText:"Wybierz gmin\u0119",title:"Wybierz gmin\u0119"},r.a.createElement(u.a,null,r.a.createElement(u.a.Paragraph,null,r.a.createElement(u.a.Text,null,"Wybrana gmina b\u0119dzie obowi\u0105zywa\u0142a przy wy\u015bwietlaniu oraz modyfikowaniu ankiet. Aby modyfikowa\u0107, dodawa\u0107 oraz wy\u015bwietla\u0107 ankiety w ramach innej gminy konieczne jest prze\u0142\u0105czenie si\u0119 pomi\u0119dzy gminami."))),r.a.createElement(F.a,{layout:"vertical"},r.a.createElement(F.a.Item,{label:"Gmina"},r.a.createElement(S.a,{value:l,onChange:function(e){return c(e)}},r.a.createElement(S.a.Option,{value:1},"Gmina 1"),r.a.createElement(S.a.Option,{value:2},"Gmina 2")))))},Qt=function(e){var t=e.userType,a=Object(i.h)();return r.a.createElement(Ht.a,{theme:"dark",defaultSelectedKeys:[_.a.DASHBOARD],selectedKeys:[a.pathname],mode:"horizontal"},r.a.createElement(d.i.CustomLink,{key:_.a.DASHBOARD,to:_.a.DASHBOARD},"Ankiety"),r.a.createElement(d.i.CustomLink,{key:_.a.HISTORY,to:_.a.HISTORY},"Historia"),_.d.includes(t)&&r.a.createElement(d.i.CustomLink,{key:_.a.USERS,to:_.a.USERS},"U\u017cytkownicy"),_.e.includes(t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.i.CustomLink,{key:_.a.COMMUNITIES,to:_.a.COMMUNITIES},"Gminy"),r.a.createElement(d.i.CustomLink,{key:_.a.PARAMETERS,to:_.a.PARAMETERS},"Parametry")),r.a.createElement(d.i.CustomLink,{key:_.a.LOGOUT,to:_.a.LOGOUT},r.a.createElement(qt.a,null)," Wyloguj"))},Xt=Object(m.b)(_e.c)((function(e){var t=e.userType,a=e.children,i=Object(n.useState)(!1),l=Object(o.a)(i,2),c=l[0],u=l[1];return r.a.createElement(d.i,null,r.a.createElement(d.i.MenuWrapper,null,t&&_.e.includes(t)?r.a.createElement(d.b.CommunitySwitch,{onClick:function(){return u(!0)}},"Gmina Szyszk\xf3w"):r.a.createElement(d.b,null,"Gmina Szyszk\xf3w"),r.a.createElement(Qt,{userType:t||"normal"})),r.a.createElement(d.i.ViewWrapper,null,a),c&&r.a.createElement(Jt,{close:function(){return u(!1)}}))})),$t=function(e){var t=e.changeActive,a=e.changePassword,n=e.id,i=e.isActive,l=e.userType;return r.a.createElement(d.k,null,r.a.createElement(d.k.Item,null,r.a.createElement(d.k.Link,{icon:r.a.createElement(h.a,null),to:"/users/details/".concat(n)},"Szczeg\xf3\u0142y")),r.a.createElement(d.k.Item,null,r.a.createElement(d.k.Link,{icon:r.a.createElement(z.a,null),to:"/users/edit/".concat(n)},"Edytuj")),_.d.includes(l)?null:i?r.a.createElement(d.k.Item,null,r.a.createElement(d.k.FakeLink,{icon:r.a.createElement(I.a,null),onClick:t},"Zablokuj")):r.a.createElement(d.k.Item,null,r.a.createElement(d.k.FakeLink,{icon:r.a.createElement(C.a,null),onClick:t},"Przywr\xf3\u0107")),r.a.createElement(d.k.Item,null,r.a.createElement(d.k.FakeLink,{icon:r.a.createElement(Ge.a,null),onClick:a},"Zmie\u0144 has\u0142o")))},ea=[{title:"Nazwisko",width:100,dataIndex:"surname",key:"surname",fixed:"left"},{title:"Imi\u0119",width:100,dataIndex:"name",key:"name",fixed:"left"},{title:"Typ u\u017cytkownika",width:40,dataIndex:"type",key:"type",render:function(e){return U(e)}},{title:"Dost\u0119p",width:30,dataIndex:"isActive",key:"isActive",render:function(e){return e?"Aktywny":"Nieaktywny"}},{title:"E-mail",dataIndex:"email",key:"email",width:100},{title:"Telefon",dataIndex:"phone",key:"phone",width:30},{title:"Stanowisko",dataIndex:"position",key:"position",width:100},{title:"Edycja",dataIndex:"canEdit",key:"canEdit",width:20,render:function(e){return e?"Tak":"Nie"}}],ta="login",aa="name",na="surname",ra="position",ia="phone",la="email",ca="isActive",oa="type",ua="canEdit",ma=function(e){var t;return(t={},Object(M.a)(t,ta,"Login"),Object(M.a)(t,aa,"Imi\u0119"),Object(M.a)(t,na,"Nazwisko"),Object(M.a)(t,ra,"Stanowisko"),Object(M.a)(t,ia,"Telefon"),Object(M.a)(t,la,"E-mail"),Object(M.a)(t,ca,"Aktywno\u015b\u0107 konta"),Object(M.a)(t,oa,"Typ u\u017cytkownika"),Object(M.a)(t,ua,"Mo\u017cliwo\u015b\u0107 edycji ankiet"),t)[e]},sa=function(e){var t=e.children,a=e.form,n=e.mode,i=e.initialValues,l=Object(L.a)(e,["children","form","mode","initialValues"]);return r.a.createElement(d.c,Object.assign({requiredMark:!1,form:a,initialValues:i,validateMessages:K.c,layout:"vertical"},l),"add"===n?r.a.createElement(F.a.Item,{name:ta,label:ma(ta),rules:[K.b]},r.a.createElement(T.a,null)):r.a.createElement(d.c.ValueItem,{name:ta,label:ma(ta)},r.a.createElement(d.c.Value,null)),r.a.createElement(W,{mode:n,name:aa,formatter:ma,rules:[K.b]}),r.a.createElement(W,{mode:n,name:na,formatter:ma,rules:[K.b]}),r.a.createElement(d.c.ValueItem,{label:ma(oa),shouldUpdate:function(e,t){return e.type!==t.type}},"details"===n?function(e){var t=e.getFieldValue;return r.a.createElement(d.c.Value,{value:U(t(oa))})}:r.a.createElement(d.c.Value,{value:U(N.a.NORMAL)})),"details"===n&&r.a.createElement(d.c.ValueItem,{label:ma(ca),shouldUpdate:function(e,t){return e.isActive!==t.isActive}},(function(e){var t=e.getFieldValue;return r.a.createElement(d.c.Value,{value:t(ca)?"Aktywne":"Nieaktywne"})})),r.a.createElement(Y,{mode:n,formatter:ma,name:ua}),r.a.createElement(W,{mode:n,name:ra,formatter:ma,rules:[K.b]}),r.a.createElement(W,{mode:n,name:ia,formatter:ma,rules:[K.b]}),r.a.createElement(W,{mode:n,name:la,formatter:ma,rules:[K.b,K.a]}),t)},da=function(e){return e},fa=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve(10)}),(function(){return a(934).default}))(t).then(da));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ba=u.a.Title,Ea=function(e){var t=e.addNew;return r.a.createElement(P.a,{status:"success",title:"Dodano nowego u\u017cytkownika",extra:[r.a.createElement(D.b,{to:"/users",key:"/users"},r.a.createElement(A.a,{type:"primary"},"Lista u\u017cytkownik\xf3w")),r.a.createElement(A.a,{type:"default",onClick:t,key:"/add"},"Dodaj kolejnego")]})},pa=function(){var e=Object(i.g)(),t=F.a.useForm(),a=Object(o.a)(t,1)[0],l=Object(k.d)(),c=Object(o.a)(l,3),u=c[0],m=u.data,s=u.loading,f=u.error,b=c[1],E=c[2],p=Object(n.useCallback)(function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b((function(){return fa(t)}))());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b]),y=Object(n.useCallback)((function(e){return p(e)}),[p]),v=Object(n.useCallback)((function(){a.resetFields(),E({type:"reset"})}),[E,a]),g=void 0!==m&&!f;return r.a.createElement(d.l,null,g?r.a.createElement(Ea,{addNew:v}):r.a.createElement(d.j,{loading:s},r.a.createElement(r.a.Fragment,null,r.a.createElement(d.l.Header,null,r.a.createElement(ba,{level:3},"Dodanie nowego u\u017cytkownika")),r.a.createElement(sa,{mode:"add",form:a,onFinish:y}),r.a.createElement(d.l.Footer,null,r.a.createElement(A.a,{type:"primary",size:"large",onClick:function(){return a.submit()}},"Dodaj u\u017cytkownika"),r.a.createElement(A.a,{type:"link",size:"large",onClick:function(){return e.goBack()}},"< Powr\xf3t")))))},ka=a(827),ya=function(e){return e},ja=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve({})}),(function(){return a(935).default}))(t).then(ya));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wa=u.a.Title,va=Object(m.b)(_e.b,{closeCard:E}),ga=function(e){var t=e.id,a=e.close,i=Object(k.d)(),l=Object(o.a)(i,2),c=l[0],u=c.data,m=c.loading,s=(c.error,l[1]);return Object(n.useEffect)((function(){s((function(){return ja(t)}))()}),[t,s]),r.a.createElement(d.d,{title:"Kontakt",onCancel:function(){return a()},footer:null,visible:!0},r.a.createElement(d.j,{loading:m},u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.l.Header,null,r.a.createElement(wa,{level:3},r.a.createElement(ka.a,null)," ".concat(u.surname," ").concat(u.name))),r.a.createElement(F.a,{layout:"vertical"},r.a.createElement(d.c.ValueItem,{label:"Stanowisko"},r.a.createElement(d.c.Value,{value:u.position})),r.a.createElement(d.c.ValueItem,{label:"Telefon"},r.a.createElement(d.c.Value,{value:u.phone})),r.a.createElement(d.c.ValueItem,{label:"E-mail"},r.a.createElement(d.c.Value,{value:u.email}))))))},Oa=va((function(e){var t=e.card,a=e.closeCard;return null!==t?r.a.createElement(ga,{id:t,close:function(){return a()}}):null})),ha=function(){return 1},za=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve(1)}),(function(){return a(936).default}))(t).then(ha));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ia=u.a.Paragraph,Ca=u.a.Title,xa=u.a.Text,Pa=function(e){var t=e.isActive,a=e.onChange;return r.a.createElement(P.a,{status:"success",title:t?"Pomy\u015blne zdezaktywowano konto":"Pomy\u015blnie zaktywowano konto",extra:[r.a.createElement(A.a,{type:"primary",onClick:a,key:"/close"},"Zamknij")]})},Aa=function(e){var t=e.id,a=e.isActive,i=e.onCancel,l=e.onChange,c=Object(k.d)(),m=Object(o.a)(c,2),s=m[0],f=s.data,b=s.loading,E=(s.error,m[1]),p=Object(n.useCallback)(Object(w.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E((function(){return za({id:t,isActive:!a})}))();case 1:case"end":return e.stop()}}),e)}))),[t,a,E]),y=void 0!==f;return r.a.createElement(d.d,{size:"small",onCancel:y?l:i,visible:!0,title:a?"Dezaktywacja konta":"Ponowna aktywacja konta",okButtonProps:a?{danger:!0}:{},footer:y?null:void 0,okText:a?"Dezaktywuj":"Aktywuj",cancelText:"Anuluj",onOk:p},r.a.createElement(d.j,{loading:b},y?r.a.createElement(Pa,{isActive:a,onChange:l}):a?r.a.createElement(u.a,null,r.a.createElement(Ca,{type:"danger",level:5},"Dezaktywujesz konto"),r.a.createElement(Ia,null,r.a.createElement(xa,null,"Dezaktywacja konta spowoduje, \u017ce niemo\u017cliwe b\u0119dzie zalogowanie si\u0119 na te konto. Konto nie zostanie usuni\u0119te, by umo\u017cliwi\u0107 \u015bledzenie historii zmian."))):r.a.createElement(u.a,null,r.a.createElement(Ca,{level:5},"Przywracasz konto"),r.a.createElement(Ia,null,r.a.createElement(xa,null,"Przywr\xf3cona zostanie mo\u017cliwo\u015b\u0107 logowania si\u0119 na konto przez u\u017cytkownika.")))))},Fa="oldPassword",Da="newPassword",Ta="repeatedPassword",Sa=function(e){return e},La=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve({id:1})}),(function(){return a(937).default}))(t).then(Sa));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ma=Object(m.b)(_e.c),_a=function(e){var t=e.onCancel;return r.a.createElement(P.a,{status:"success",title:"Zmieniono has\u0142o",extra:[r.a.createElement(A.a,{type:"primary",onClick:t,key:"/close"},"Zamknij")]})},Va=Ma((function(e){var t=e.id,a=e.userName,i=e.userType,l=e.targetUser,c=e.onCancel,u=F.a.useForm(),m=Object(o.a)(u,1)[0],s=Object(n.useMemo)((function(){return function(e,t){if(!_.d.includes(e)||e===N.a.ADMIN&&t===N.a.SUPERADMIN)throw new Error("Nieuprawniony dost\u0119p");return e===t}(i,l)}),[l,i]),f=Object(k.d)(),b=Object(o.a)(f,3),E=b[0],p=E.data,y=E.loading,v=(E.error,b[1]),g=b[2],O=Object(n.useCallback)(function(){var e=Object(w.a)(j.a.mark((function e(a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.oldPassword,r=a.newPassword,v((function(){return La(s?{id:t,oldPassword:n,newPassword:r}:{id:t,newPassword:r})}))((function(e){var t=e.errors;t?(m.setFields([{name:Fa,errors:["Nieprawid\u0142owe has\u0142o"]}]),g({type:"failure",error:t})):g({type:"success",data:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[g,m,t,s,v]),h=void 0!==p&&!p.errors;return r.a.createElement(d.d,{size:"small",onCancel:c,visible:!0,title:"Zmiana has\u0142a",footer:h?null:void 0,okText:"Zmie\u0144 has\u0142o",cancelText:"Anuluj",onOk:m.submit},r.a.createElement(d.j,{loading:y},h?r.a.createElement(_a,{onCancel:c}):r.a.createElement(F.a,{validateMessages:K.c,layout:"vertical",form:m,name:"changePassword",onFinish:function(e){return O(e)},requiredMark:!1},r.a.createElement(d.c.ValueItem,{label:"U\u017cytkownik"},r.a.createElement(d.c.Value,{value:a})),s&&r.a.createElement(F.a.Item,{name:Fa,label:"Stare has\u0142o",hasFeedback:!0,rules:[K.b]},r.a.createElement(T.a,{type:"password"})),r.a.createElement(F.a.Item,{name:Da,label:"Nowe has\u0142o",hasFeedback:!0,rules:[K.b]},r.a.createElement(T.a,{type:"password"})),r.a.createElement(F.a.Item,{name:Ta,label:"Potwierd\u017a nowe has\u0142o",hasFeedback:!0,dependencies:[Da],rules:[K.b,function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t(Da)!==a?Promise.reject("Podano inne has\u0142o ni\u017c nowe has\u0142o"):Promise.resolve()}}}]},r.a.createElement(T.a,{type:"password"})))))})),Na=function(e){return e},Ua=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve({})}),(function(){return a(938).default}))(t).then(Na));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ra=u.a.Title,Wa=function(){var e=Object(k.b)(),t=Object(i.g)(),a=F.a.useForm(),l=Object(o.a)(a,1)[0],c=Object(k.d)(),u=Object(o.a)(c,2),m=u[0],s=m.data,f=m.loading,b=(m.error,u[1]);return Object(n.useEffect)((function(){b((function(){return Ua(e)}))()}),[e,b]),r.a.createElement(d.l,null,r.a.createElement(d.j,{loading:f},r.a.createElement(d.l.Header,null,r.a.createElement(Ra,{level:3},"Dane u\u017cytkownika")),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(sa,{mode:"details",form:l,initialValues:s}),r.a.createElement(d.l.Footer,null,r.a.createElement(D.b,{to:"/users/edit/".concat(e)},r.a.createElement(A.a,{type:"primary",size:"large"},"Edytuj")),r.a.createElement(A.a,{type:"link",size:"large",onClick:function(){return t.goBack()}},"< Powr\xf3t")))))},Ya=function(e){return e},Ka=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve(10)}),(function(){return a(939).default}))(t).then(Ya));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Za=u.a.Title,Ba=function(e){var t=e.id;return r.a.createElement(P.a,{status:"success",title:"Zapisano zmiany",extra:[r.a.createElement(D.b,{to:"/users",key:"/users"},r.a.createElement(A.a,{type:"primary"},"Lista u\u017cytkownik\xf3w")),r.a.createElement(D.b,{to:"/users/details/".concat(t),key:"/details"},r.a.createElement(A.a,{type:"default"},"Szczeg\xf3\u0142y u\u017cytkownika"))]})},Ga=function(){var e=Object(i.g)(),t=Object(k.b)(),a=F.a.useForm(),l=Object(o.a)(a,1)[0],c=Object(k.d)(),u=Object(o.a)(c,2),m=u[0],s=m.data,f=m.loading,b=m.error,E=u[1];Object(n.useEffect)((function(){E((function(){return Ua(t)}))()}),[t,E]);var p=Object(k.d)(),y=Object(o.a)(p,2),v=y[0],g=v.data,O=v.loading,h=v.error,z=y[1],I=Object(n.useCallback)(function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z((function(){return Ka(t)}))());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[z]),C=Object(n.useCallback)((function(e){return I(e)}),[I]),x=void 0!==s&&!b,P=x&&void 0!==g&&!h;return r.a.createElement(d.l,null,P?r.a.createElement(Ba,{id:t}):r.a.createElement(d.j,{loading:O||f},r.a.createElement(r.a.Fragment,null,r.a.createElement(d.l.Header,null,r.a.createElement(Za,{level:3},"Edycja danych u\u017cytkownika")),x&&r.a.createElement(r.a.Fragment,null,r.a.createElement(sa,{mode:"edit",form:l,onFinish:C,initialValues:s}),r.a.createElement(d.l.Footer,null,r.a.createElement(A.a,{type:"primary",size:"large",onClick:function(){return l.submit()}},"Zapisz zmiany"),r.a.createElement(A.a,{type:"link",size:"large",onClick:function(){return e.goBack()}},"< Powr\xf3t"))))))},Ha=function(e){return e},qa=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve({users:[]})}),(function(){return a(940).default}))(t).then(Ha));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ja=u.a.Title,Qa=Object.assign((function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],i=t[1],u=Object(n.useCallback)((function(){return i(null)}),[]),m=Object(n.useState)(null),f=Object(o.a)(m,2),b=f[0],E=f[1],p=Object(n.useCallback)((function(){return E(null)}),[]),y=Object(n.useMemo)((function(){return e=function(e){var t=e.id,a=e.isActive;return i({id:t,isActive:a})},t=function(e){var t=e.id,a=e.type,n=e.name,r=e.surname;return E({id:t,targetUser:a,userName:"".concat(r," ").concat(n)})},[].concat(ea,[{title:"",key:"operation",fixed:"right",width:60,render:function(a){return r.a.createElement($t,{id:a.id,isActive:a.isActive,changeActive:function(){return e(a)},changePassword:function(){return t(a)},userType:a.type})}}]);var e,t}),[]),j=Object(k.d)(),w=Object(o.a)(j,2),v=w[0],g=v.data,O=v.loading,h=(v.error,w[1]),z=Object(n.useCallback)((function(){return h((function(){return qa({})}))()}),[h]);return Object(n.useEffect)((function(){z()}),[z]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,g&&r.a.createElement(d.a.Link,{to:"/users/add",icon:r.a.createElement(s.a,null),shape:"round"},"Dodaj u\u017cytkownika"),r.a.createElement(d.a.Title,null,r.a.createElement(Ja,{level:2},"Lista u\u017cytkownik\xf3w"))),g?r.a.createElement(c.a,{loading:O,rowKey:"id",pagination:!1,columns:y,dataSource:g.users,scroll:{x:"max-content"}}):r.a.createElement(d.l,null,r.a.createElement(l.a,{active:!0})),null!==a&&r.a.createElement(Aa,Object.assign({},a,{onCancel:u,onChange:function(){z(),u()}})),null!==b&&r.a.createElement(Va,Object.assign({onCancel:p},b)))}),{Add:pa,Card:Oa,Details:Wa,Edit:Ga}),Xa=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve(void 0)}),(function(){return a(847).default.update}))(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$a=function(){var e=Object(w.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)((function(){return Promise.resolve({})}),(function(){return a(847).default}))());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),en=Object.assign($a,{update:Xa}),tn=function(e){e.children;var t=e.form,a=(e.mode,e.initialValues),n=Object(L.a)(e,["children","form","mode","initialValues"]);return r.a.createElement(F.a,Object.assign({requiredMark:!1,form:t,initialValues:a},n),r.a.createElement(F.a.Item,{label:"Parametr A",name:"a"},r.a.createElement($e.a,{min:0})),r.a.createElement(F.a.Item,{label:"Parametr B",name:"b"},r.a.createElement($e.a,{min:0})),r.a.createElement(F.a.Item,{label:"Parametr V",name:"v"},r.a.createElement($e.a,{min:0})))},an=function(){var e=Object(n.useState)("details"),t=Object(o.a)(e,2),a=t[0],i=(t[1],F.a.useForm()),l=Object(o.a)(i,1)[0],c=Object(k.d)(),u=Object(o.a)(c,2),m=u[0],s=m.data,d=(m.loading,m.error,u[1]);return Object(n.useEffect)((function(){d((function(){return en()}))()}),[d]),s?r.a.createElement(tn,{mode:a,form:l,initialValues:s}):r.a.createElement("div",null,"Wczytuje")};t.default=function(){return r.a.createElement(Xt,null,r.a.createElement(i.d,null,r.a.createElement(d.m,{exact:!0,path:["/","/buildings"]},r.a.createElement(_t,null)),r.a.createElement(d.m,{exact:!0,path:"/buildings/add"},r.a.createElement(_t.Add,null)),r.a.createElement(d.m,{exact:!0,path:"/buildings/details/:id"},r.a.createElement(_t.Details,null)),r.a.createElement(d.m,{exact:!0,path:"/buildings/edit/:id"},r.a.createElement(_t.Edit,null)),r.a.createElement(d.m,{exact:!0,path:"/buildings/history/:id"},r.a.createElement(_t.History,null)),r.a.createElement(d.m,{exact:!0,path:"/history"},r.a.createElement(Gt,null)),r.a.createElement(d.m,{exact:!0,path:"/users",whiteList:_.d},r.a.createElement(Qa,null)),r.a.createElement(d.m,{exact:!0,path:"/users/add",whiteList:_.d},r.a.createElement(Qa.Add,null)),r.a.createElement(d.m,{exact:!0,path:"/users/details/:id",whiteList:_.d},r.a.createElement(Qa.Details,null)),r.a.createElement(d.m,{exact:!0,path:"/users/edit/:id",whiteList:_.d},r.a.createElement(Qa.Edit,null)),r.a.createElement(d.m,{exact:!0,path:"/communities",whiteList:_.e},r.a.createElement(De,null)),r.a.createElement(d.m,{exact:!0,path:"/communities/add",whiteList:_.e},r.a.createElement(De.Add,null)),r.a.createElement(d.m,{exact:!0,path:"/communities/details/:id",whiteList:_.e},r.a.createElement(De.Details,null)),r.a.createElement(d.m,{exact:!0,path:"/communities/edit/:id",whiteList:_.e},r.a.createElement(De.Edit,null)),r.a.createElement(d.m,{exact:!0,path:"/parameters",whiteList:_.e},r.a.createElement(an,null))),r.a.createElement(Qa.Card,null))}}}]);