(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{797:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return m}));var n=a(115),r={SOLID:"solidFuel",GAS:"gas",OIL:"oil",OVER:"over"},i="single",l="multi",c="trade",o="service",u="public",s=[i,l,c,o,u],m=function(e){var t;return(t={},Object(n.a)(t,i,"Mieszkalny jednorodzinny"),Object(n.a)(t,l,"Mieszkalny wielorodzinny"),Object(n.a)(t,c,"Handlowy"),Object(n.a)(t,o,"Us\u0142ugowy"),Object(n.a)(t,u,"U\u017cyteczno\u015bci publicznej"),t)[e]}},801:function(e,t,a){"use strict";a.r(t);t.default=Object.assign((function(){return{a:24.111,b:11.001,v:102}}),{update:function(e){}})},808:function(e,t,a){"use strict";a.r(t);var n=["Mazowieckie","Dolno\u015bl\u0105skie"],r=["Jerzy","Edyta","Jadwiga"],i=["Kowalski","Nowak","Dudek"],l=["\u0141\u0119ko\u0142ody","Grzmig\xf3ry","\u0141\u0119czy\u0144ski"],c=["\u0106mi\u0142\xf3w","Niepor\u0119t","Zakr\u0119t","\u0141yse Pole"],o=function(e){var t=e.from,a=void 0===t?0:t,n=e.to;return a+Math.floor((n-a)*Math.random())},u=function(e){return e[o({to:e.length})]};t.default=function(){return{communities:new Array(4).fill(0).map((function(e,t){return function(e){return{id:e,name:c[e%4],voivodeship:u(n),district:u(l),contact:{id:o({to:120}),name:u(r),surname:u(i)},isActive:Math.random()>.5}}(t)}))}}},809:function(e,t,a){"use strict";a.r(t),t.default=function(e){return e.id}},853:function(e,t,a){"use strict";a.r(t);var n=a(797),r=["Londyn","Zdr\xf3j grodzisko","Wawa","Grudzi\u0105d\u017a"],i=["Graniczna","Kwiatowa","Jana Pawe\u0142a 2"],l=[n.b.GAS,n.b.OIL,n.b.OVER,n.b.SOLID],c=function(e){var t=e.from,a=void 0===t?0:t,n=e.to;return a+Math.floor((n-a)*Math.random())},o=function(e){return e[c({to:e.length})]};t.default=function(e){return{items:new Array(10).fill(0).map((function(t,a){return function(e,t){var a,n,u=e.city,s=e.street,m=e.areaFrom,d=e.areaTo,f=e.heatSource;return{id:t,city:u||o(r),street:s||o(i),building:c({from:1,to:256}).toString(),date:(a=new Date(2012,0,1),n=new Date,new Date(a.getTime()+Math.random()*(n.getTime()-a.getTime()))),area:c({from:m||43,to:d||2300}),heatSource:f||o(l),fuel:"bleh"}}(e,a)})),filters:{cities:r,streets:i},totalCount:c({from:30,to:56}),currentPage:c({from:1,to:4})}}},858:function(e,t,a){"use strict";a.r(t),t.default=function(e){}},861:function(e,t,a){"use strict";a.r(t),t.default=function(e){return e.name.includes("popr")?{status:"failed",errors:new Array(40).fill(0).map((function(){return"Wiersz pierwszy s\u0142aby"}))}:{status:"success"}}},877:function(e,t,a){"use strict";a.r(t);var n=["Jerzy","Edyta","Jadwiga"],r=["Kowalski","Nowak","Dudek"],i=["Londyn","Zdr\xf3j grodzisko","Wawa","Grudzi\u0105d\u017a"],l=["Graniczna","Kwiatowa","Jana Pawe\u0142a 2","-"],c=[void 0,"1","4","5"],o=function(e){var t=e.from,a=void 0===t?0:t,n=e.to;return a+Math.floor((n-a)*Math.random())},u=function(e){return e[o({to:e.length})]},s=new Date("2012-03-12"),m=new Date;t.default=function(e){return{items:new Array(10).fill(0).map((function(t,a){return function(e,t){var a=t.userId,d=t.from,f=void 0===d?s:d,p=t.to,E=void 0===p?m:p;t.modification;return{id:e,questionnaireId:e+o({from:0,to:4}),address:{city:u(i),street:u(l),building:o({from:1,to:20}).toString(),flat:u(c)},date:new Date(o({from:f.getTime(),to:E.getTime()})),user:void 0!==a?{name:n[a%3],surname:r[a%3],id:a}:{name:u(n),surname:u(r),id:o({from:1,to:100})}}}(a,e)})),filters:{usersList:new Array(3).fill(0).map((function(e,t){return{name:n[t],surname:r[t],id:t}}))},totalCount:o({from:40,to:70}),currentPage:o({from:1,to:3})}}},887:function(e,t,a){"use strict";a.r(t);var n=a(384),r=a(208),i=["Jerzy","Edyta","Jadwiga"],l=["Kowalski","Nowak","Dudek"],c=["Asystent","-"],o=function(e){var t=e.from,a=void 0===t?0:t,n=e.to;return a+Math.floor((n-a)*Math.random())},u=function(){return Math.random()>.5},s=function(e){return e[o({to:e.length})]};t.default=function(e){return{users:[{id:0,name:"Zbigniew",surname:"Kierowniczy",position:"Kierownik",phone:"515151898",email:"kierownik@wp.pl",isActive:!0,canEdit:!0,type:r.a.ADMIN}].concat(Object(n.a)(new Array(9).fill(0).map((function(e,t){return function(e){return function(t){var a=t.name,n=t.surname;return{id:e,name:a,surname:n,position:s(c),phone:o({from:5e8,to:7e8}).toString(),email:"".concat(a.toLowerCase()).concat(n.toLowerCase(),"@gmail.com"),isActive:u(),canEdit:u(),type:r.a.NORMAL}}({name:s(i),surname:s(l)})}(t+1)}))))}}},888:function(e,t,a){"use strict";a.r(t),t.default=function(e){return e.id}},889:function(e,t,a){"use strict";a.r(t),t.default=function(e){return{id:e.id}}},894:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(33),l=(a(787),a(786)),c=a(67),o=(a(238),a(107)),u=a(899),s=a(159),m=a(9),d=a(47),f=a.n(d),p=a(68),E=a(160),b=function(e){return e},k=function(){var e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E.b)((function(){return Promise.resolve({communities:[]})}),(function(){return a(808).default}))(void 0).then(b));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=a(895),w=a(896),j=a(897),g=a(898),v=function(e){var t=e.changeActive,a=e.id,n=e.isActive;return r.a.createElement(s.k,null,r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(y.a,null),to:"/communities/details/".concat(a)},"Szczeg\xf3\u0142y")),r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(w.a,null),to:"/communities/edit/".concat(a)},"Edytuj")),n?r.a.createElement(s.k.Item,null,r.a.createElement(s.k.FakeLink,{icon:r.a.createElement(j.a,null),onClick:t},"Zablokuj")):r.a.createElement(s.k.Item,null,r.a.createElement(s.k.FakeLink,{icon:r.a.createElement(g.a,null),onClick:t},"Przywr\xf3\u0107")))},h=(a(289),a(186)),O=(a(122),a(46)),z=function(){return 1},I=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E.b)((function(){return Promise.resolve(1)}),(function(){return a(809).default}))(t).then(z));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=o.a.Paragraph,C=o.a.Title,P=o.a.Text,A=function(e){var t=e.isActive,a=e.onChange;return r.a.createElement(h.a,{status:"success",title:t?"Pomy\u015blne zdezaktywowano dost\u0119p dla gminy":"Pomy\u015blnie przywr\xf3cono dost\u0119p dla gminy",extra:[r.a.createElement(O.a,{type:"primary",onClick:a},"Zamknij")]})},D=function(e){var t=e.id,a=e.isActive,i=e.onCancel,l=e.onChange,u=Object(m.c)(),d=Object(c.a)(u,2),E=d[0],b=E.data,k=E.loading,y=(E.error,d[1]),w=Object(n.useCallback)(Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y((function(){return I({id:t,isActive:!a})}))();case 1:case"end":return e.stop()}}),e)}))),[t,a,y]),j=void 0!==b;return r.a.createElement(s.d,{size:"small",onCancel:j?l:i,visible:!0,title:a?"Wy\u0142\u0105czenie aplikacji dla gminy":"Ponowna aktywacja aplikacji",okButtonProps:a?{danger:!0}:{},footer:j?null:void 0,okText:a?"Dezaktywuj":"Aktywuj",cancelText:"Anuluj",onOk:w},r.a.createElement(s.j,{loading:k},j?r.a.createElement(A,{isActive:a,onChange:l}):a?r.a.createElement(o.a,null,r.a.createElement(C,{type:"danger",level:5},"Dezaktywujesz dost\u0119p do aplikacji dla ca\u0142ej gminy"),r.a.createElement(x,null,r.a.createElement(P,null,"Dezaktywacja gminy spowoduje, \u017ce niemo\u017cliwe b\u0119dzie zalogowanie si\u0119 na konta u\u017cytkownik\xf3w gminy. Konta oraz gmina nie zostan\u0105 usuni\u0119te, by umo\u017cliwi\u0107 przywr\xf3cenie dost\u0119pu w przysz\u0142o\u015bci."))):r.a.createElement(o.a,null,r.a.createElement(C,{level:5},"Przywracasz dost\u0119p do aplikacji dla gminy"),r.a.createElement(x,null,r.a.createElement(P,null,"Przywr\xf3cona zostanie mo\u017cliwo\u015b\u0107 logowania si\u0119 na konto przez u\u017cytkownik\xf3w gminy.")))))},_=o.a.Title,S=Object.assign((function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],i=t[1],o=Object(n.useCallback)((function(){return i(null)}),[]),d=Object(n.useMemo)((function(){return e=function(e){var t=e.id,a=e.isActive;return i({id:t,isActive:a})},t=function(e){},[{title:"Nazwa gminy",width:100,dataIndex:"name",key:"name",fixed:"left"},{title:"Wojew\xf3d\u017atwo",width:80,dataIndex:"voivodeship",key:"voivodeship"},{title:"Powiat",width:80,dataIndex:"district",key:"district"},{title:"Osoba kontaktowa",width:100,dataIndex:"contact",key:"contact",render:function(e){return r.a.createElement(s.e.Button,{type:"link",onClick:function(){return t(e.id)}},"".concat(e.surname," ").concat(e.name))}},{title:"Dost\u0119p",dataIndex:"isActive",key:"isActive",width:20,render:function(e){return e?"Aktywny":"Nieaktywny"}},{title:"",key:"operation",fixed:"right",width:60,render:function(t){return r.a.createElement(v,{id:t.id,isActive:t.isActive,changeActive:function(){return e(t)}})}}];var e,t}),[]),f=Object(m.c)(),p=Object(c.a)(f,2),E=p[0],b=E.data,y=E.loading,w=(E.error,p[1]),j=Object(n.useCallback)((function(){return w((function(){return k()}))()}),[w]);return Object(n.useEffect)((function(){j()}),[j]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,b&&r.a.createElement(s.a.Link,{to:"/communities/add",icon:r.a.createElement(u.a,null),shape:"round"},"Dodaj gmin\u0119"),r.a.createElement(s.a.Title,null,r.a.createElement(_,{level:2},"Lista gmin"))),b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{loading:y,rowKey:"id",pagination:!1,columns:d,dataSource:b.communities,scroll:{x:"max-content"}})),null!==a&&r.a.createElement(D,Object.assign({},a,{onCancel:o,onChange:function(){j(),o()}})))})),T=(a(833),a(385)),F=a(207),L=a(95),M=a(240),N=a(905),U=a(904),R=a(190),W=a(835),q=a.n(W),G=a(852),K=function(e){return e},V=function(){var e=Object(p.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("/Excel",{params:t,responseType:"blob"});case 2:a=e.sent,Object(G.saveAs)(a.data,"Eksport danych.xlsx");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E.b)((function(){return Promise.resolve({})}),(function(){return a(853).default}))(t).then(K));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=Object.assign(Z,{loadExcel:V}),Y=a(900),H=a(901),J=a(89),Q=function(e){var t=e.city,a=e.street,n=e.building,r=e.flat;return"".concat(t).concat(a&&a!==J.b?" ul. ".concat(a):""," ").concat(n).concat(r?"/".concat(r):"")},X=a(115),$=a(208),ee=function(e){var t=e.onDelete,a=e.id,n=e.canEdit,i=e.userType;return r.a.createElement(s.k,null,r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(y.a,null),to:"/buildings/details/".concat(a)},"Szczeg\xf3\u0142y")),n?r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(w.a,null),to:"/buildings/edit/".concat(a)},"Edytuj")):null,J.d.includes(i)?r.a.createElement(s.k.Item,null,r.a.createElement(s.k.FakeLink,{icon:r.a.createElement(Y.a,null),onClick:t},"Usu\u0144")):null,r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(H.a,null),to:"/buildings/history/".concat(a)},"Historia")))},te=["city","street","building","operation"],ae=[{title:"Miejscowo\u015b\u0107",width:100,dataIndex:"city",key:"city",fixed:"left"},{title:"Ulica",width:100,dataIndex:"street",key:"street",fixed:"left"},{title:"nr",dataIndex:"building",key:"building",width:20},{title:"Data ankiety",dataIndex:"date",key:"date",width:100},{title:"Powierzchnia",dataIndex:"area",key:"area",width:50},{title:"\u0179r\xf3d\u0142o ciep\u0142a",dataIndex:"heatSource",key:"heatSource",width:60},{title:"Paliwo",dataIndex:"fuel",key:"fuel",width:60}];var ne=["fuel","heatSource","area"],re=ae.map((function(e){return{label:e.title,value:e.key}})).filter((function(e){var t=e.value;return t&&"string"===typeof t&&!te.includes(t)})),ie=(a(291),a(174)),le=(a(409),a(290)),ce=(a(798),a(802)),oe=(a(241),a(147)),ue=(a(288),a(100)),se=a(797),me=o.a.Title,de={required:"Pole jest wymagane"},fe={labelCol:{span:4},wrapperCol:{span:8}},pe={labelCol:{span:4},wrapperCol:{span:8,offset:4}},Ee=[{required:!0}],be=[].concat(Ee,[{type:"number",min:1800,max:2050,message:"Rok powinien by\u0107 w przedziale od 1800 do 2050"}]),ke=[].concat(Ee,[{type:"number",min:1,max:9999,message:"Rok powinien by\u0107 w przedziale od 1800 do 2050"}]),ye=function(){var e=ue.a.useForm(),t=Object(c.a)(e,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{requiredMark:!1,size:"middle",name:"login-form",form:t,validateMessages:de,onFinish:function(e){console.log(e)}},r.a.createElement(me,{level:4},"Dodaj ankiet\u0119"),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Miejscowo\u015b\u0107",name:"city",rules:Ee}),r.a.createElement(oe.a,null)),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Ulica",name:"street",rules:Ee}),r.a.createElement(s.c.InputWithOmit,null)),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Numer budynku",name:"building",rules:Ee}),r.a.createElement(oe.a,null)),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Numer lokalu",name:"local"}),r.a.createElement(oe.a,null)),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Rok budowy",name:"year",rules:be}),r.a.createElement(ce.a,{type:"number",step:1,precision:0})),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Typ budynku",name:"type",rules:Ee}),r.a.createElement(le.a,null,se.a.map((function(e){return r.a.createElement(le.a.Option,{key:e,value:e},Object(se.c)(e))})))),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Powierzchnia u\u017cytkowa budynku/lokalu [m^2]",name:"area",rules:ke}),r.a.createElement(ce.a,null)),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Ocieplenie \u015bcian",name:"termo_walls_if",valuePropName:"checked"}),r.a.createElement(ie.a,null,"Wykonano")),r.a.createElement(s.c.DependentFields,{depend:["termo_walls_if"],requirement:function(e){return Boolean(e("termo_walls_if"))}},r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Uzyskana powierzchnia [m^2]",name:"termo_walls_area"}),r.a.createElement(ce.a,null)),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Grubo\u015b\u0107 ocieplenia [m^2]",name:"termo_walls_width"}),r.a.createElement(ce.a,null)),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Rok wykonania",name:"termo_walls_year"}),r.a.createElement(ce.a,null))),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Ocieplenie dachu/stropodachu",name:"termo_roof_if",valuePropName:"checked"}),r.a.createElement(ie.a,null,"Wykonano")),r.a.createElement(s.c.DependentFields,{depend:["termo_roof_if"],requirement:function(e){return Boolean(e("termo_roof_if"))}},r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Uzyskana powierzchnia [m^2]",name:"termo_roof_area"}),r.a.createElement(ce.a,null)),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Grubo\u015b\u0107 ocieplenia [m^2]",name:"termo_roof_width"}),r.a.createElement(ce.a,null)),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Rok wykonania",name:"termo_roof_year"}),r.a.createElement(ce.a,null))),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Wymiana okien",name:"termo_window_if",valuePropName:"checked"}),r.a.createElement(ie.a,null,"Wykonano")),r.a.createElement(s.c.DependentFields,{depend:["termo_window_if"],requirement:function(e){return Boolean(e("termo_window_if"))}},r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"[m^2, szt.]",name:"termo_window_count"}),r.a.createElement(oe.a,null)),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Rok wykonania",name:"termo_window_year"}),r.a.createElement(ce.a,null))),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Wymiana drzwi",name:"termo_door_if",valuePropName:"checked"}),r.a.createElement(ie.a,null,"Wykonano")),r.a.createElement(s.c.DependentFields,{depend:["termo_door_if"],requirement:function(e){return Boolean(e("termo_door_if"))}},r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"[m^2, szt.]",name:"termo_door_count"}),r.a.createElement(oe.a,null)),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Rok wykonania",name:"termo_door_year"}),r.a.createElement(ce.a,null))),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Wymiana \u017ar\xf3de\u0142 ciep\u0142a",name:"termo_source_change"}),r.a.createElement(oe.a,{placeholder:"(z jakiego na jakie?)"})),r.a.createElement(s.c.DependentFields,{depend:["termo_source_change"],requirement:function(e){return Boolean(e("termo_source_change"))}},r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Rok wykonania",name:"termo_source_year"}),r.a.createElement(ce.a,null))),r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Wymiana \u017ar\xf3de\u0142 ciep\u0142a",name:"termo_source_change"}),r.a.createElement(oe.a,{placeholder:"(z jakiego na jakie?)"})),r.a.createElement(s.c.DependentFields,{depend:["termo_source_change"],requirement:function(e){return Boolean(e("termo_source_change"))}},r.a.createElement(ue.a.Item,Object.assign({},fe,{label:"Rok wykonania",name:"termo_source_year"}),r.a.createElement(ce.a,null))),r.a.createElement(ue.a.Item,pe,r.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Dodaj"))))},we=function(){return 1},je=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E.b)((function(){return Promise.resolve(void 0)}),(function(){return a(858).default}))(t).then(we));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=o.a.Paragraph,ve=o.a.Title,he=o.a.Text,Oe=function(e){var t=e.onDelete;return r.a.createElement(h.a,{status:"success",title:"Pomy\u015blne usuni\u0119to rekord",extra:[r.a.createElement(O.a,{type:"primary",onClick:t},"Zamknij")]})},ze=function(e){var t=e.address,a=e.id,i=e.onCancel,l=e.onDelete,u=Object(m.c)(),d=Object(c.a)(u,2),E=d[0],b=E.data,k=E.loading,y=(E.error,d[1]),w=Object(n.useCallback)(Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y((function(){return je(a)}))();case 1:case"end":return e.stop()}}),e)}))),[a,y]),j=void 0!==b;return r.a.createElement(s.d,{size:"small",onCancel:j?l:i,visible:!0,title:"Usuni\u0119cie ankiety z bazy",okButtonProps:{danger:!0},footer:j?null:void 0,okText:"Usu\u0144",cancelText:"Anuluj",onOk:w},r.a.createElement(s.j,{loading:k},j?r.a.createElement(Oe,{onDelete:l}):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement(ve,{type:"danger",level:5},"Usuwasz ankiet\u0119"),r.a.createElement(ge,null,r.a.createElement(he,null,"Usuni\u0119cie ankiety spowoduje, \u017ce dane o historii jej edycji oraz same dane ankiety przestan\u0105 by\u0107 dost\u0119pne w aplikacji. Zmiana jest nieodwracalna."))),r.a.createElement(ue.a,{layout:"vertical"},r.a.createElement(s.c.ValueItem,{label:"Adres"},r.a.createElement(s.c.Value,{value:t}))))))},Ie=function(){return r.a.createElement(r.a.Fragment,null,"No to mamy to")},xe=function(){return r.a.createElement(r.a.Fragment,null,"No to mamy to")},Ce=function(){return r.a.createElement(r.a.Fragment,null,"No to mamy to")},Pe=a(902),Ae=function(e){var t=e.visibleColumns,a=e.setVisibleColumns,l=e.parameters,o=e.cities,u=e.streets,m=ue.a.useForm(),d=Object(c.a)(m,1)[0],f=Object(i.g)();return Object(n.useEffect)((function(){var e=Object(M.parse)(l);d.setFieldsValue(e)}),[d,l]),r.a.createElement(ue.a,{form:d,name:"filters",layout:"inline",onFinish:function(e){f.push("/?".concat(Object(M.stringify)(e)))}},r.a.createElement(ue.a.Item,{name:"city"},r.a.createElement(s.g.Select,{allowClear:!0,placeholder:"Miasto"},o.map((function(e){return r.a.createElement(le.a.Option,{value:e,key:e},e)})))),r.a.createElement(ue.a.Item,{name:"street"},r.a.createElement(s.g.Select,{allowClear:!0,placeholder:"Ulica"},u.map((function(e){return r.a.createElement(le.a.Option,{value:e,key:e},e)})))),r.a.createElement(ue.a.Item,null,r.a.createElement(s.g.MultiSelect,{value:t,onChange:a,options:re},(function(e,t){return r.a.createElement(O.a,{onClick:t},"Wybrane ".concat(e.length," kolumny"))}))),r.a.createElement(ue.a.Item,null,r.a.createElement(O.a,{type:"primary",htmlType:"submit",icon:r.a.createElement(Pe.a,null)},"Wyszukaj")))},De=(a(892),a(891)),_e=a(903),Se=function(e){return e},Te=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E.b)((function(){return Promise.resolve({})}),(function(){return a(861).default}))(t).then(Se));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=De.a.Dragger,Le="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",Me=function(e){var t=e.onFileUpload;return r.a.createElement(h.a,{status:"success",title:"Pomy\u015blne wgranie danych",subTitle:"Wgrano pomy\u015blnie dane... Mo\u017ce chcesz statystyki?",extra:[r.a.createElement(O.a,{type:"primary",onClick:t},"Zamknij")]})},Ne=function(e){var t=e.errors;return r.a.createElement(s.f,null,r.a.createElement(s.f.Title,null,"Plik niemo\u017cliwy do wgrania - lista b\u0142\u0119d\xf3w"),t.map((function(e,t){return r.a.createElement(s.f.Item,{key:t},e)})))},Ue=function(e){var t=e.onCancel,a=e.onFileUpload,i=Object(n.useState)([]),l=Object(c.a)(i,2),o=l[0],u=l[1],d=Object(m.c)(),f=Object(c.a)(d,3),p=f[0],E=p.data,b=p.loading,k=(p.error,f[1]),y=f[2],w=Object(n.useCallback)((function(e){return k((function(){return Te(e)}))()}),[k]),j="success"===(null===E||void 0===E?void 0:E.status);return r.a.createElement(s.d,{visible:!0,title:"Import pliku Excel",onCancel:j?a:t,footer:null},r.a.createElement(s.j,{loading:b},j?r.a.createElement(Me,{onFileUpload:a}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe,{accept:Le,beforeUpload:function(e){return e.type===Le&&(u([e]),y({type:"custom",update:function(e){return e.data?Object(F.a)({},e,{data:Object(F.a)({},e.data,{errors:void 0})}):e}})),!1},onRemove:function(){return u([])},multiple:!1,fileList:o},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(_e.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Kliknij lub przeci\u0105gnij plik .xlsx aby za\u0142adowa\u0107 dane z ankietami. Wymagany jest poprawny format pliku."),r.a.createElement("p",{className:"ant-upload-hint"},"Umo\u017cliwione jest wgrywanie pojedy\u0144czego pliku.")),r.a.createElement(s.h,null,r.a.createElement(O.a,{disabled:0===o.length,icon:r.a.createElement(U.a,null),onClick:0===o.length?void 0:function(){return w(o[0])},type:"primary"},"Wgraj plik")),(null===E||void 0===E?void 0:E.errors)&&r.a.createElement(Ne,{errors:E.errors}))))},Re=o.a.Title,We=Object(L.b)((function(e){return Object(F.a)({},Object(R.b)(e),{},Object(R.a)(e))})),qe=Object.assign(We((function(e){var t=e.canEdit,a=e.userType,i=Object(n.useState)(null),o=Object(c.a)(i,2),d=o[0],f=o[1],p=Object(n.useCallback)((function(){return f(null)}),[]),E=Object(n.useState)(!1),b=Object(c.a)(E,2),k=b[0],y=b[1],w=Object(n.useCallback)((function(){return y(!0)}),[]),j=Object(n.useCallback)((function(){return y(!1)}),[]),g=Object(n.useState)(ne),v=Object(c.a)(g,2),h=v[0],O=v[1],z=Object(n.useMemo)((function(){return function(e,t,a){return[].concat(ae,[{title:"",key:"operation",fixed:"right",width:60,render:function(n){var i=n.id,l=n.city,c=n.street,o=n.building;return r.a.createElement(ee,{id:i,onDelete:function(){return t({id:i,address:Q({city:l,street:c,building:o})})},canEdit:e,userType:a})}}])}(t,f,a).filter((function(e){return te.includes(e.key)||h.includes(e.key)}))}),[t,a,h]),I=Object(m.b)(),x=Object(m.c)(),C=Object(c.a)(x,2),P=C[0],A=P.data,D=P.loading,_=(P.error,C[1]),S=Object(n.useCallback)((function(e){return _((function(){return B(e)}))()}),[_]);Object(n.useEffect)((function(){var e=Object(M.parse)(I);S(e)}),[I,S]);var F=Object(m.c)(),L=Object(c.a)(F,2)[1],R=Object(n.useCallback)((function(e){return L((function(){return B.loadExcel(e)}))(void 0,(function(){return T.b.error("Wyst\u0105pi\u0142 b\u0142\u0105d w czasie generacji pliku Excel")}))}),[L]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,A&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a.Link,{to:"/buildings/add",icon:r.a.createElement(u.a,null),shape:"round"},"Dodaj"),r.a.createElement(s.a.FakeLink,{type:"default",icon:r.a.createElement(N.a,null),shape:"round",onClick:function(){return R(Object(M.parse)(I))}},"Exportuj"),r.a.createElement(s.a.FakeLink,{type:"default",icon:r.a.createElement(U.a,null),shape:"round",onClick:w},"Importuj")),r.a.createElement(s.a.Title,null,r.a.createElement(Re,{level:2},"Lista ankiet"))),A&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{title:function(){return r.a.createElement(Ae,{parameters:I,cities:A.filters.cities,streets:A.filters.streets,setVisibleColumns:O,visibleColumns:h})},loading:D,rowKey:"id",pagination:{total:A.totalCount,current:A.currentPage,pageSizeOptions:["10","20"]},columns:z,dataSource:A.items,scroll:{x:"max-content"}})),null!==d&&r.a.createElement(ze,Object.assign({},d,{onCancel:p,onDelete:function(){var e=Object(M.parse)(I);S(e),p()}})),k&&r.a.createElement(Ue,{onCancel:j,onFileUpload:function(){var e=Object(M.parse)(I);S(e),j()}}))})),{Add:ye,Details:Ie,Edit:xe,History:Ce}),Ge=function(e){return e},Ke=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E.b)((function(){return Promise.resolve({})}),(function(){return a(877).default}))(t).then(Ge));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=a(788),Ze=a.n(Ve),Be=function(e){var t=e.questionnaireId;return r.a.createElement(s.k,null,r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(y.a,null),to:"/building/details/".concat(t)},"Pe\u0142na ankieta")),r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(H.a,null),to:"/building/history/".concat(t)},"Pe\u0142na historia zmian")))},Ye=(a(893),a(890));var He=Object.assign((function(e){var t,a=e.userId,n=e.from,r=e.to,i=e.modification;return t={userId:void 0!==a?a.toString():void 0,from:n?n.format("YYYY-MM-DD"):void 0,to:r?r.format("YYYY-MM-DD"):void 0,modification:i},Object.keys(t).reduce((function(e,a){return void 0!==t[a]?Object.assign(e,Object(X.a)({},a,t[a])):e}),{})}),{parse:function(e){var t=e.userId,a=e.from,n=e.to,r=e.modification;return{userId:t?parseInt(t,10):void 0,from:a?Ze()(a):void 0,to:n?Ze()(n):void 0,modification:r}}}),Je=function(e){var t=e.parameters,a=e.usersList,l=ue.a.useForm(),o=Object(c.a)(l,1)[0],u=Object(i.g)();return Object(n.useEffect)((function(){var e=Object(M.parse)(t);o.setFieldsValue(He.parse(e))}),[o,t]),r.a.createElement(ue.a,{form:o,name:"filters",layout:"inline",onFinish:function(e){u.push("/history?".concat(Object(M.stringify)(He(e))))}},r.a.createElement(ue.a.Item,{name:"userId"},r.a.createElement(s.g.Select,{allowClear:!0,placeholder:"U\u017cytkownik"},a.map((function(e){var t=e.id,a=e.name,n=e.surname;return r.a.createElement(le.a.Option,{value:t,key:t},"".concat(n," ").concat(a))})))),r.a.createElement(ue.a.Item,{name:"from"},r.a.createElement(Ye.a,{placeholder:"Od",allowClear:!0})),r.a.createElement(ue.a.Item,{name:"to"},r.a.createElement(Ye.a,{placeholder:"Do",allowClear:!0})),r.a.createElement(ue.a.Item,{name:"modification"},r.a.createElement(s.g.Select,{allowClear:!0,placeholder:"Rodzaj zmiany"},r.a.createElement(le.a.Option,{value:"edit",key:"edit"},"Edycja"),r.a.createElement(le.a.Option,{value:"add",key:"add"},"Dodanie"))),r.a.createElement(ue.a.Item,null,r.a.createElement(O.a,{type:"primary",htmlType:"submit",icon:r.a.createElement(Pe.a,null)},"Wyszukaj")))},Qe=o.a.Title,Xe=function(e){},$e=function(){var e=Object(n.useMemo)((function(){return e=Xe,[{title:"Adres",width:150,dataIndex:"address",key:"address",fixed:"left",render:function(e){return Q(e)}},{title:"Data modyfikacji",width:50,dataIndex:"date",key:"date",render:function(e){return Ze()(e).format("YYYY-MM-DD")}},{title:"U\u017cytkownik",width:150,dataIndex:"user",key:"user",render:function(t){return r.a.createElement(s.e.Button,{type:"link",onClick:function(){return e(t.id)}},"".concat(t.surname," ").concat(t.name))}},{title:"",key:"operation",fixed:"right",width:60,render:function(e){return r.a.createElement(Be,{questionnaireId:e.questionnaireId})}}];var e}),[]),t=Object(m.b)(),a=Object(m.c)(),i=Object(c.a)(a,2),o=i[0],u=o.data,d=o.loading,f=(o.error,i[1]),p=Object(n.useCallback)((function(e){return f((function(){return Ke(He(e))}))()}),[f]);return Object(n.useEffect)((function(){var e=Object(M.parse)(t);p(e)}),[t,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(s.a.Title,null,r.a.createElement(Qe,{level:2},"Lista ankiet"))),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{title:function(){return r.a.createElement(Je,{parameters:t,usersList:u.filters.usersList})},loading:d,rowKey:"id",pagination:{total:u.totalCount,current:u.currentPage,pageSizeOptions:["10"]},columns:e,dataSource:u.items,scroll:{x:"max-content"}})))},et=(a(415),a(294)),tt=a(906),at=function(e){var t=e.close,a=Object(n.useState)(1),i=Object(c.a)(a,2),l=i[0],u=i[1];return r.a.createElement(s.d,{size:"small",visible:!0,onCancel:t,onOk:function(){return t()},okText:"Wybierz gmin\u0119",title:"Wybierz gmin\u0119"},r.a.createElement(o.a,null,r.a.createElement(o.a.Paragraph,null,r.a.createElement(o.a.Text,null,"Wybrana gmina b\u0119dzie obowi\u0105zywa\u0142a przy wy\u015bwietlaniu oraz modyfikowaniu ankiet. Aby modyfikowa\u0107, dodawa\u0107 oraz wy\u015bwietla\u0107 ankiety w ramach innej gminy konieczne jest prze\u0142\u0105czenie si\u0119 pomi\u0119dzy gminami."))),r.a.createElement(ue.a,{layout:"vertical"},r.a.createElement(ue.a.Item,{label:"Gmina"},r.a.createElement(le.a,{value:l,onChange:function(e){return u(e)}},r.a.createElement(le.a.Option,{value:1},"Gmina 1"),r.a.createElement(le.a.Option,{value:2},"Gmina 2")))))},nt=function(e){var t=e.userType,a=Object(i.h)();return r.a.createElement(et.a,{theme:"dark",defaultSelectedKeys:[J.a.DASHBOARD],selectedKeys:[a.pathname],mode:"horizontal"},r.a.createElement(s.i.CustomLink,{key:J.a.DASHBOARD,to:J.a.DASHBOARD},"Ankiety"),r.a.createElement(s.i.CustomLink,{key:J.a.HISTORY,to:J.a.HISTORY},"Historia"),J.d.includes(t)&&r.a.createElement(s.i.CustomLink,{key:J.a.USERS,to:J.a.USERS},"U\u017cytkownicy"),J.e.includes(t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.i.CustomLink,{key:J.a.COMMUNITIES,to:J.a.COMMUNITIES},"Gminy"),r.a.createElement(s.i.CustomLink,{key:J.a.PARAMETERS,to:J.a.PARAMETERS},"Parametry")),r.a.createElement(s.i.CustomLink,{key:J.a.LOGOUT,to:J.a.LOGOUT},r.a.createElement(tt.a,null)," Wyloguj"))},rt=Object(L.b)(R.b)((function(e){var t=e.userType,a=e.children,i=Object(n.useState)(!1),l=Object(c.a)(i,2),o=l[0],u=l[1];return r.a.createElement(s.i,null,r.a.createElement(s.i.MenuWrapper,null,t&&J.e.includes(t)?r.a.createElement(s.b.CommunitySwitch,{onClick:function(){return u(!0)}},"Gmina Szyszk\xf3w"):r.a.createElement(s.b,null,"Gmina Szyszk\xf3w"),r.a.createElement(nt,{userType:t||"normal"})),r.a.createElement(s.i.ViewWrapper,null,a),o&&r.a.createElement(at,{close:function(){return u(!1)}}))})),it=function(e){return e},lt=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E.b)((function(){return Promise.resolve({users:[]})}),(function(){return a(887).default}))(t).then(it));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(e){var t=e.changeActive,a=e.changePassword,n=e.id,i=e.isActive,l=e.userType;return r.a.createElement(s.k,null,r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(y.a,null),to:"/users/details/".concat(n)},"Szczeg\xf3\u0142y")),r.a.createElement(s.k.Item,null,r.a.createElement(s.k.Link,{icon:r.a.createElement(w.a,null),to:"/users/edit/".concat(n)},"Edytuj")),J.d.includes(l)?null:i?r.a.createElement(s.k.Item,null,r.a.createElement(s.k.FakeLink,{icon:r.a.createElement(j.a,null),onClick:t},"Zablokuj")):r.a.createElement(s.k.Item,null,r.a.createElement(s.k.FakeLink,{icon:r.a.createElement(g.a,null),onClick:t},"Przywr\xf3\u0107")),r.a.createElement(s.k.Item,null,r.a.createElement(s.k.FakeLink,{icon:r.a.createElement(H.a,null),onClick:a},"Zmie\u0144 has\u0142o")))},ot=[{title:"Nazwisko",width:100,dataIndex:"surname",key:"surname",fixed:"left"},{title:"Imi\u0119",width:100,dataIndex:"name",key:"name",fixed:"left"},{title:"Typ u\u017cytkownika",width:40,dataIndex:"type",key:"type",render:function(e){return function(e){var t;return(t={},Object(X.a)(t,$.a.NORMAL,"Normalny"),Object(X.a)(t,$.a.ADMIN,"Administrator"),Object(X.a)(t,$.a.SUPERADMIN,"Administrator KAPE"),t)[e]}(e)}},{title:"Dost\u0119p",width:30,dataIndex:"isActive",key:"isActive",render:function(e){return e?"Aktywny":"Nieaktywny"}},{title:"E-mail",dataIndex:"email",key:"email",width:100},{title:"Telefon",dataIndex:"phone",key:"phone",width:30},{title:"Stanowisko",dataIndex:"position",key:"position",width:100},{title:"Edycja",dataIndex:"canEdit",key:"canEdit",width:20,render:function(e){return e?"Tak":"Nie"}}],ut=function(){return 1},st=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E.b)((function(){return Promise.resolve(1)}),(function(){return a(888).default}))(t).then(ut));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=o.a.Paragraph,dt=o.a.Title,ft=o.a.Text,pt=function(e){var t=e.isActive,a=e.onChange;return r.a.createElement(h.a,{status:"success",title:t?"Pomy\u015blne zdezaktywowano konto":"Pomy\u015blnie zaktywowano konto",extra:[r.a.createElement(O.a,{type:"primary",onClick:a},"Zamknij")]})},Et=function(e){var t=e.id,a=e.isActive,i=e.onCancel,l=e.onChange,u=Object(m.c)(),d=Object(c.a)(u,2),E=d[0],b=E.data,k=E.loading,y=(E.error,d[1]),w=Object(n.useCallback)(Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y((function(){return st({id:t,isActive:!a})}))();case 1:case"end":return e.stop()}}),e)}))),[t,a,y]),j=void 0!==b;return r.a.createElement(s.d,{size:"small",onCancel:j?l:i,visible:!0,title:a?"Dezaktywacja konta":"Ponowna aktywacja konta",okButtonProps:a?{danger:!0}:{},footer:j?null:void 0,okText:a?"Dezaktywuj":"Aktywuj",cancelText:"Anuluj",onOk:w},r.a.createElement(s.j,{loading:k},j?r.a.createElement(pt,{isActive:a,onChange:l}):a?r.a.createElement(o.a,null,r.a.createElement(dt,{type:"danger",level:5},"Dezaktywujesz konto"),r.a.createElement(mt,null,r.a.createElement(ft,null,"Dezaktywacja konta spowoduje, \u017ce niemo\u017cliwe b\u0119dzie zalogowanie si\u0119 na te konto. Konto nie zostanie usuni\u0119te, by umo\u017cliwi\u0107 \u015bledzenie historii zmian."))):r.a.createElement(o.a,null,r.a.createElement(dt,{level:5},"Przywracasz konto"),r.a.createElement(mt,null,r.a.createElement(ft,null,"Przywr\xf3cona zostanie mo\u017cliwo\u015b\u0107 logowania si\u0119 na konto przez u\u017cytkownika.")))))},bt="oldPassword",kt="newPassword",yt="repeatedPassword",wt=function(e){return e},jt=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E.b)((function(){return Promise.resolve({id:1})}),(function(){return a(889).default}))(t).then(wt));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt={required:"Pole jest wymagane"},vt=[{required:!0}],ht=Object(L.b)(R.b),Ot=function(e){var t=e.onCancel;return r.a.createElement(h.a,{status:"success",title:"Zmieniono has\u0142o",extra:[r.a.createElement(O.a,{type:"primary",onClick:t},"Zamknij")]})},zt=ht((function(e){var t=e.id,a=e.userName,i=e.userType,l=e.targetUser,o=e.onCancel,u=ue.a.useForm(),d=Object(c.a)(u,1)[0],E=Object(n.useMemo)((function(){return function(e,t){if(!J.d.includes(e)||e===$.a.ADMIN&&t===$.a.SUPERADMIN)throw new Error("Nieuprawniony dost\u0119p");return e===t}(i,l)}),[l,i]),b=Object(m.c)(),k=Object(c.a)(b,3),y=k[0],w=y.data,j=y.loading,g=(y.error,k[1]),v=k[2],h=Object(n.useCallback)(function(){var e=Object(p.a)(f.a.mark((function e(a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.oldPassword,r=a.newPassword,g((function(){return jt(E?{id:t,oldPassword:n,newPassword:r}:{id:t,newPassword:r})}))((function(e){var t=e.errors;t?(d.setFields([{name:bt,errors:["Nieprawid\u0142owe has\u0142o"]}]),v({type:"failure",error:t})):v({type:"success",data:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v,d,t,E,g]),O=void 0!==w&&!w.errors;return r.a.createElement(s.d,{size:"small",onCancel:o,visible:!0,title:"Zmiana has\u0142a",footer:O?null:void 0,okText:"Zmie\u0144 has\u0142o",cancelText:"Anuluj",onOk:d.submit},r.a.createElement(s.j,{loading:j},O?r.a.createElement(Ot,{onCancel:o}):r.a.createElement(ue.a,{validateMessages:gt,layout:"vertical",form:d,name:"changePassword",onFinish:function(e){return h(e)},requiredMark:!1},r.a.createElement(s.c.ValueItem,{label:"U\u017cytkownik"},r.a.createElement(s.c.Value,{value:a})),E&&r.a.createElement(ue.a.Item,{name:bt,label:"Stare has\u0142o",hasFeedback:!0,rules:vt},r.a.createElement(oe.a,{type:"password"})),r.a.createElement(ue.a.Item,{name:kt,label:"Nowe has\u0142o",hasFeedback:!0,rules:vt},r.a.createElement(oe.a,{type:"password"})),r.a.createElement(ue.a.Item,{name:yt,label:"Potwierd\u017a nowe has\u0142o",hasFeedback:!0,dependencies:[kt],rules:[].concat(vt,[function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t(kt)!==a?Promise.reject("Podano inne has\u0142o ni\u017c nowe has\u0142o"):Promise.resolve()}}}])},r.a.createElement(oe.a,{type:"password"})))))})),It=o.a.Title,xt=Object.assign((function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],i=t[1],o=Object(n.useCallback)((function(){return i(null)}),[]),d=Object(n.useState)(null),f=Object(c.a)(d,2),p=f[0],E=f[1],b=Object(n.useCallback)((function(){return E(null)}),[]),k=Object(n.useMemo)((function(){return e=function(e){var t=e.id,a=e.isActive;return i({id:t,isActive:a})},t=function(e){var t=e.id,a=e.type,n=e.name,r=e.surname;return E({id:t,targetUser:a,userName:"".concat(r," ").concat(n)})},[].concat(ot,[{title:"",key:"operation",fixed:"right",width:60,render:function(a){return r.a.createElement(ct,{id:a.id,isActive:a.isActive,changeActive:function(){return e(a)},changePassword:function(){return t(a)},userType:a.type})}}]);var e,t}),[]),y=Object(m.c)(),w=Object(c.a)(y,2),j=w[0],g=j.data,v=j.loading,h=(j.error,w[1]),O=Object(n.useCallback)((function(){return h((function(){return lt({})}))()}),[h]);return Object(n.useEffect)((function(){O()}),[O]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,g&&r.a.createElement(s.a.Link,{to:"/users/add",icon:r.a.createElement(u.a,null),shape:"round"},"Dodaj u\u017cytkownika"),r.a.createElement(s.a.Title,null,r.a.createElement(It,{level:2},"Lista u\u017cytkownik\xf3w"))),g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{loading:v,rowKey:"id",pagination:!1,columns:k,dataSource:g.users,scroll:{x:"max-content"}})),null!==a&&r.a.createElement(Et,Object.assign({},a,{onCancel:o,onChange:function(){O(),o()}})),null!==p&&r.a.createElement(zt,Object.assign({onCancel:b},p)))})),Ct=a(48),Pt=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E.b)((function(){return Promise.resolve(void 0)}),(function(){return a(801).default.update}))(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E.b)((function(){return Promise.resolve({})}),(function(){return a(801).default}))());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Dt=Object.assign(At,{update:Pt}),_t=function(e){e.children;var t=e.form,a=(e.mode,e.initialValues),n=Object(Ct.a)(e,["children","form","mode","initialValues"]);return r.a.createElement(ue.a,Object.assign({requiredMark:!1,form:t,initialValues:a},n),r.a.createElement(ue.a.Item,{label:"Parametr A",name:"a"},r.a.createElement(ce.a,{min:0})),r.a.createElement(ue.a.Item,{label:"Parametr B",name:"b"},r.a.createElement(ce.a,{min:0})),r.a.createElement(ue.a.Item,{label:"Parametr V",name:"v"},r.a.createElement(ce.a,{min:0})))},St=function(){var e=Object(n.useState)("details"),t=Object(c.a)(e,2),a=t[0],i=(t[1],ue.a.useForm()),l=Object(c.a)(i,1)[0],o=Object(m.c)(),u=Object(c.a)(o,2),s=u[0],d=s.data,f=(s.loading,s.error,u[1]);return Object(n.useEffect)((function(){f((function(){return Dt()}))()}),[f]),d?r.a.createElement(_t,{mode:a,form:l,initialValues:d}):r.a.createElement("div",null,"Wczytuje")};t.default=function(){return r.a.createElement(rt,null,r.a.createElement(i.d,null,r.a.createElement(s.l,{exact:!0,path:["/","/buildings"]},r.a.createElement(qe,null)),r.a.createElement(s.l,{exact:!0,path:"/buildings/add"},r.a.createElement(qe.Add,null)),r.a.createElement(s.l,{exact:!0,path:"/buildings/details/:id"},r.a.createElement(qe.Details,null)),r.a.createElement(s.l,{exact:!0,path:"/buildings/edit/:id"},r.a.createElement(qe.Edit,null)),r.a.createElement(s.l,{exact:!0,path:"/buildings/history/:id"},r.a.createElement(qe.History,null)),r.a.createElement(s.l,{exact:!0,path:"/history"},r.a.createElement($e,null)),r.a.createElement(s.l,{exact:!0,path:"/users",whiteList:J.d},r.a.createElement(xt,null)),r.a.createElement(s.l,{exact:!0,path:"/communities",whiteList:J.e},r.a.createElement(S,null)),r.a.createElement(s.l,{exact:!0,path:"/parameters",whiteList:J.e},r.a.createElement(St,null))))}}}]);